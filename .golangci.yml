version: "2"

linters:
  default: none

  enable:
    # https://golangci-lint.run/docs/linters/configuration/#arangolint
    # https://github.com/Crocmagnon/arangolint
    # Необходим при работе с arangodb
    # В случае работы с данной базой необходимо включить
    # - arangolint

    # https://golangci-lint.run/docs/linters/configuration/#asasalint
    # https://github.com/alingse/asasalint
    # Проверяет случаи верной передачи []any в функции с параметром ...any
    - asasalint

    # https://golangci-lint.run/docs/linters/configuration/#asciicheck
    # https://github.com/golangci/asciicheck
    # Проверяет код на наличие non-ACII символов в названии
    - asciicheck

    # https://golangci-lint.run/docs/linters/configuration/#bidichk
    # https://github.com/breml/bidichk
    # Проверяет на наличие опасных символов (см README.md в репозитории bidichk)
    # Не вижу практической пользы
    # - bidichk

    # https://golangci-lint.run/docs/linters/configuration/#bodyclose
    # https://github.com/timakin/bodyclose
    # Проверяет закрытие *http.Response.Body
    - bodyclose

    # https://golangci-lint.run/docs/linters/configuration/#canonicalheader
    # https://github.com/lasiar/canonicalheader
    # Проверяет название заголовков в http.Header
    # http.Header сам может модифицировать некорректные названия
    # Однако линтер помогает избежать непредвиденных ситуаций связанных с этим
    - canonicalheader

    # https://golangci-lint.run/docs/linters/configuration/#containedctx
    # https://github.com/sivchari/containedctx
    # Проверяет наличие поля с типом context.Context в структурах
    # Не вижу практической пользы
    # - containedctx
    # https://golangci-lint.run/docs/linters/configuration/#contextcheck
    # https://github.com/kkHAIKE/contextcheck
    # Если функция использует внутри себя контекст, значит этот контекст обязан приходить извне
    # Помогает избежать использования context.Background() или context.TODO() там где это не надо
    - contextcheck

    # https://golangci-lint.run/docs/linters/configuration/#copyloopvar
    # https://github.com/karamaru-alpha/copyloopvar
    # Проверяет копирование переменной в цикле
    # Потерял свою актуальность начиная с версии go 1.21
    # - copyloopvar
    # https://golangci-lint.run/docs/linters/configuration/#cyclop
    # https://github.com/bkielbasa/cyclop
    # Проверяет цикломатичную вложенность функций и пакетов, современная альтернатива gocyclo
    # Настройки по умолчанию вполне нас устраивают
    # gocognit выполняет ту же самую фукнцию
    # revive.cognitive-complexity выполняет ту же самую функцию
    #
    # Был отключен в пользу линтеров оценивающих когнитивную сложность функций
    # По скольку помимо оценки вложенности (которую эти линтеры так же оценивают)
    # Необходимо оценивать общую сложность функций
    #
    # Выключаем
    - cyclop

    # https://golangci-lint.run/docs/linters/configuration/#decorder
    # https://gitlab.com/bosi/decorder
    # Устанавливает правила определения блоков var, const, func, type
    # Нет нужды в жетском определении порядка блоков
    # Будет приводить к частым nolint
    # - decorder
    # https://golangci-lint.run/docs/linters/configuration/#depguard
    # https://github.com/OpenPeeDeeP/depguard
    # Устанавливает правила блока import (...)
    # Даёт возможность запретить импорт отдельного пакета
    # Если есть необходимость в запрете импорта отдельного пакета то следует включить
    # В gosec есть ряд правил которые запрещают испльзование небезопасных алгоритмов шифрования
    # Прекрасный use case для линтера
    - depguard

    # https://golangci-lint.run/docs/linters/configuration/#dogsled
    # https://github.com/alexkohler/dogsled
    # В случае если видит 2 и более (количество настраивается) _, _, a := foo() присвоения переменных то сообщает об этом
    # Не вижу практической пользы
    # - dogsled
    # https://golangci-lint.run/docs/linters/configuration/#dupl
    # https://github.com/mibk/dupl
    # Проверяет код на наличие дубликатов кода
    # Вполне устраивает настройка по умолчанию в 150 токенов
    - dupl

    # https://golangci-lint.run/docs/linters/configuration/#dupword
    # https://github.com/Abirdcfly/dupword
    # Проверяет и исправляет (--fix) повторения ключевых слов в комментариях
    # Примеры исправлений в популярных проектах https://github.com/Abirdcfly/dupword/issues/3
    # Безвреден и не навязчив, но требует настройки
    # Включить если пишите много комментариев
    # - dupword

    # https://golangci-lint.run/docs/linters/configuration/#durationcheck
    # https://github.com/Abirdcfly/dupword
    # Проверки умножения времени
    # Если ты умножаешь time.Second * time.Second то получается достаточно большое число
    - durationcheck

    # https://golangci-lint.run/docs/linters/configuration/#embeddedstructfieldcheck
    # https://github.com/manuelarte/embeddedstructfieldcheck
    # Запрещает встраивать мьютексы
    # Проверяет что встраиваемые структуры расположены выше остальных полей
    - embeddedstructfieldcheck

    # https://golangci-lint.run/docs/linters/configuration/#err113
    # https://github.com/Djarvur/go-err113
    # Устанавливает правила для работы с ошибками после go 1.13
    # Запрещает делать fmt.Errorf() c динамическими полями помимо одной error
    # Не имеет настройки отдельных правил
    # Замещен errcheck, errorlint, wrapcheck
    # - err113

    # https://golangci-lint.run/docs/linters/configuration/#errcheck
    # https://github.com/kisielk/errcheck
    # Анализирует наличие проверки на ошибку (if err != nil)
    # В случае её отсутствия сообщает о ней
    # Есть отдельная настройка для совместимости с errchkjson
    - errcheck

    # https://golangci-lint.run/docs/linters/configuration/#errchkjson
    # https://github.com/breml/errchkjson
    # Проверяет типы которые попадают в json.Marshal
    # Позволяет быть уверенным в json.Marshal и в ряде случаев не проверять на ошибки
    - errchkjson

    # https://golangci-lint.run/docs/linters/configuration/#errname
    # https://github.com/Antonboom/errname
    # Правило именования переменных типа error, а также типов которые имплементируют error
    # Обязывает именовать типы type XError
    # Обязывает именовать ошибки [e|E]rrX
    - errname

    # https://golangci-lint.run/docs/linters/configuration/#errorlint
    # https://github.com/polyfloyd/go-errorlint
    # Правила работы с ошибками в golang
    # ВНИМАНИЕ ИМЕЕТ СВОЙСТВО --fix КОТОРОЕ МОЖЕТ ВЛИЯТЬ НА ЛОГИКУ КОДА
    - errorlint

    # https://golangci-lint.run/docs/linters/configuration/#exhaustive
    # https://github.com/nishanths/exhaustive
    # Проверяет значения enum в switch
    # Крайне полезен
    - exhaustive

    # https://golangci-lint.run/docs/linters/configuration/#exhaustruct
    # https://github.com/GaijinEntertainment/go-exhaustruct
    # Обязывает заполнять все поля в структурах
    # Крайне полезен
    - exhaustruct

    # https://golangci-lint.run/docs/linters/configuration/#exptostd
    # https://github.com/ldez/exptostd
    # Проверяет возможность замены использования пакетов golang.org/x/exp/ на пакеты стандартной библиотеки
    # Микрополезно
    - exptostd

    # https://golangci-lint.run/docs/linters/configuration/#fatcontext
    # https://github.com/Crocmagnon/fatcontext
    # ВНИМАНИЕ ИМЕЕТ СВОЙСТВО --fix КОТОРОЕ МОЖЕТ ВЛИЯТЬ НА ЛОГИКУ КОДА
    # В циклах предотвращает переназначение исходной переменной ctx
    # Исправляет автоматически, следует иметь это ввиду
    - fatcontext

    # https://golangci-lint.run/docs/linters/configuration/#forbidigo
    # https://github.com/ashanbrown/forbidigo
    # Позволяет запретить использовать любое выражение в коде
    # Кроме ключевых слов языка таких как goto, fallthrough
    # Настраивается через regexp
    - forbidigo

    # https://golangci-lint.run/docs/linters/configuration/#forcetypeassert
    # https://github.com/gostaticanalysis/forcetypeassert
    # Запрещает force type assert a := x.(*Type)
    # Каждый type assert должен быть обработан
    - forcetypeassert

    # https://golangci-lint.run/docs/linters/configuration/#funcorder
    # https://github.com/manuelarte/funcorder
    # Проверяет порядок расположения функций, методов и конструкторов.
    # Можно включить для специфических ситуаций
    # - funcorder
    # https://golangci-lint.run/docs/linters/configuration/#funlen
    # https://github.com/ultraware/funlen
    # Валидирует длину функций в строчках, по умолчанию 60
    #
    # gocognit выполняет ту же самую фукнцию
    # revive.cognitive-complexity выполняет ту же самую функцию
    #
    # Выбор сделан в пользу линтеров производящих комплексную оценку сложности функции
    #
    # Выключаем
    # - funlen

    # https://golangci-lint.run/docs/linters/configuration/#ginkgolinter
    # https://github.com/nunnatsa/ginkgolinter
    # ginkgo https://onsi.github.io/ginkgo/ - Популярных тестовый фреймворк для go
    # gomega https://onsi.github.io/gomega/ - Пакет для assertion
    # В случае использования этих инструментов следует включить и настроить
    # - ginkgolinter

    # https://golangci-lint.run/docs/linters/configuration/#gocheckcompilerdirectives
    # https://github.com/leighmcculloch/gocheckcompilerdirectives
    # Проверяет верность записи //go:embed //go:generate //go:build и т.д. (лишние пробелы, опечатки)
    - gocheckcompilerdirectives

    # https://golangci-lint.run/docs/linters/configuration/#gochecknoglobals
    # https://github.com/leighmcculloch/gochecknoglobals
    # Запрещает объявлять глобальные переменные
    # Имеет ряд исключений которые описаны в репозитории
    - gochecknoglobals

    # https://golangci-lint.run/docs/linters/configuration/#gochecknoinits
    # https://github.com/leighmcculloch/gochecknoinits
    # Запрещает использование init() функций
    # Мне не нужен этот линтер
    # - gochecknoinits

    # https://golangci-lint.run/docs/linters/configuration/#gochecksumtype
    # https://github.com/alecthomas/go-check-sumtype
    # Посмотри что такое https://github.com/BurntSushi/go-sumtype (что-то вроде enum в Rust на go интерфейсах)
    # Делает дополнительные проверки в switch case таких sum-type на предмет проверки соответствия всем типам
    - gochecksumtype

    # https://golangci-lint.run/docs/linters/configuration/#gocognit
    # https://github.com/uudashr/gocognit
    # Проверяет сложность функции
    # В отличие от gocyclo уделяет внимание вложенности деклараций if, for, switch
    - gocognit

    # https://golangci-lint.run/docs/linters/configuration/#goconst
    # https://github.com/jgautheron/goconst
    # Анализирует код на наличие одних и тех же строк
    # Предлагает вынести их в константы
    - goconst

    # https://golangci-lint.run/docs/linters/configuration/#gocritic
    # https://github.com/go-critic/go-critic
    # Множество правил по коду, расширенная версия govet
    # Правила приложены в настройках этого линтера
    - gocritic

    # https://golangci-lint.run/docs/linters/configuration/#gocyclo
    # https://github.com/fzipp/gocyclo
    # Считает сложность функции
    # Заменен на cyclop, более современную альтернативу
    # - gocyclo

    # https://golangci-lint.run/docs/linters/configuration/#godot
    # https://github.com/tetafro/godot
    # Валидирует комментарии, настраиваемый
    # Выключен за ненадобностью
    # - godot

    # https://golangci-lint.run/docs/linters/configuration/#godox
    # https://github.com/matoous/godox
    # Обнаруживает использование ключевых слов в комментариях
    # По умолчанию ищет TODO FIXME BUG
    # Удобно только в случае поиска данных слов, во всех остальных только мешает
    # Выключаем
    # - godox

    # https://golangci-lint.run/docs/linters/configuration/#goheader
    # https://github.com/denis-tingaikin/go-header
    # Проверяет что файл начинатся с определенного формата
    # Удобно при введении лицензии когда вам необходимо чтобы каждый файл начинался с определенного текста
    # Имеет гибкую настройку
    # Имеет опцию auto-fix
    # В обычной ситуации отключаем
    # - goheader

    # https://golangci-lint.run/docs/linters/configuration/#gomoddirectives
    # https://github.com/ldez/gomoddirectives
    # Линтер для управления директивами go.mod (replace, retract, tool, excludes и т.д)
    # Выключаем за ненадобностью настройки
    # - gomoddirectives

    # https://golangci-lint.run/docs/linters/configuration/#gomodguard
    # https://github.com/ryancurrah/gomodguard
    # Содержит ряд различных правил по управлению зависимостями в go.mod
    # Позволяет запретить добавлять зависимость в go.mod
    # Позволяет запретить использовать зависимость ниже или выше определённой версии
    # Выключаем за ненадобностью настройки go.mod
    # - gomodguard

    # https://golangci-lint.run/docs/linters/configuration/#goprintffuncname
    # https://github.com/golangci/go-printf-func-name
    # Если функция подходит под формат (format string, args ...interface{}) // на ...any не работает, при чем названия аргументов тоже важны
    # И название функции не оканчивается на 'f' то просит добавить символ в конец
    # https://github.com/golangci/go-printf-func-name/issues/3
    # Выключаем
    # TODO заменить на ruleguard, мне не нравится что на ...any линтер не срабатывает
    # - goprintffuncname

    # https://golangci-lint.run/docs/linters/configuration/#gosec
    # https://github.com/securego/gosec
    # Содержит множество проверок на потенциальные уязвимости и ошибки в коде
    # Правила приложены в настройках этого линтера
    - gosec

    # https://golangci-lint.run/docs/linters/configuration/#gosmopolitan
    # https://github.com/xen0n/gosmopolitan
    # Выявляет проблемы которые могут мешать интернационализации и локализации
    # Запреащет использовать time.Local
    # однако есть множество обходных путей получения локального времени
    # которые требуют "ручной" валидации
    # Китайский линтер, на кириллицу не реагирует
    # Выключаем
    # - gosmopolitan

    # https://golangci-lint.run/docs/linters/configuration/#govet
    # https://pkg.go.dev/cmd/vet
    # Самый базовый линтер по golang, поставляемый от разработчиков языка
    - govet

    # https://golangci-lint.run/docs/linters/configuration/#grouper
    # https://github.com/leonklingele/grouper
    # Устанавливает правило объявления блоков var, type, import
    # Частично этим занимаются gofumpt
    # По умолчанию и так всё выключено
    # Имеет опции для настройки
    # type a struct{}
    # type b struct{}
    # Выключаем
    # - grouper

    # https://golangci-lint.run/docs/linters/configuration/#iface
    # https://github.com/uudashr/iface
    # Содержит набор правил по интерфейсам
    # по умолчанию обнаруживает "идентичные линтеры"
    # type A interface{ Call() } // дубликаты с одинаковыми сигнатурами функций
    # type B interface{ Call() } //
    - iface

    # https://golangci-lint.run/docs/linters/configuration/#importas
    # https://github.com/julz/importas
    # Позволяет настроить alias import
    # Для тех кто действительно хочет соблюдать import as политики будет полезно
    # Выключаем
    # - importas

    # https://golangci-lint.run/docs/linters/configuration/#inamedparam
    # https://github.com/macabu/inamedparam
    # Обязывает подписывать входные переменные у методов интерфейсов
    # type NonNamed interface{ Hello(string) (string, error) } // ошибка, необходимо подписать входные параметры
    # есть настройка для того чтобы позволять не подписывать входные параметры
    # если их количество равно 1
    - inamedparam

    # https://golangci-lint.run/docs/linters/configuration/#ineffassign
    # https://github.com/gordonklaus/ineffassign
    # Проверяет бесполезные присваивания переменным
    # a := 0
    # print(a) // использование
    # a = 1 // далее переменная нигде не используется, этого присвоения можно избежать
    - ineffassign

    # https://golangci-lint.run/docs/linters/configuration/#interfacebloat
    # https://golangci-lint.run/docs/linters/configuration/#interfacebloat
    # Регулирует максимально количество методов у интерфейсов
    # По умолчанию 10 методов, но значение настроивается
    - interfacebloat

    # https://golangci-lint.run/docs/linters/configuration/#intrange
    # https://github.com/ckaznocha/intrange
    # for i := 0; i < 1100; i++ {} // старый синтаксис, неправильно
    # for i := range 1100 // новой синтаксис, идиоматично
    # modernize.rangeint выполняет ту же самую функции
    # Выключаем
    # - intrange

    # https://golangci-lint.run/docs/linters/configuration/#iotamixing
    # https://github.com/AdminBenni/iota-mixing
    # Проверяет наличие заданных костант в const блоке
    # const ( // в блоке присутствует лишняя константа four = 4 которая не использует iota
    # 	one = iota
    # 	two
    # 	three
    # 	four = 4
    # )
    # Есть баг не работает на случаи когда iota идёт с доп конструкциями
    # const ( // линтер не обработает такой случай
    # 	one = iota + 1
    # 	two
    # 	three
    # 	four = 4
    # )
    # Оставил ISSUE https://github.com/AdminBenni/iota-mixing/issues/4
    - iotamixing

    # https://golangci-lint.run/docs/linters/configuration/#ireturn
    # https://github.com/butuzov/ireturn
    # Реализует правило Accept Interfaces, Return Concrete Types.
    # Проверяет функции которые возвращают интерфейсы, вместо конкретных типов
    # func NewService() Service {return &MyServiceImpl{}} // сообщит об ошибке из-за возврата интерфейса
    # func NewService() *MyServiceImpl {return &MyServiceImpl{}} // OK
    # Настраивается
    - ireturn

    # https://golangci-lint.run/docs/linters/configuration/#lll
    # https://github.com/walle/lll // на самом сайте не указан
    # Сообщает о слишком длинных строках
    # Настраивается
    - lll

    # https://golangci-lint.run/docs/linters/configuration/#loggercheck
    # https://github.com/timonwong/loggercheck
    # Логгер который проверяет правильность паттерна ключ-значения для ряда популярных логгеров
    # Пример на slog
    # slog.Info("mymsg", "value") // первый аргумент является сообщением, нет ключа для "value"
    # в таком случае будет выведено
    # INFO mymsg !BADKEY=value
    # slog.Info("mymsg", "key", "value") // правильно
    # в таком случае будет выведено
    # INFO mymsg key=value
    - loggercheck

    # https://golangci-lint.run/docs/linters/configuration/#maintidx
    # https://github.com/yagipy/maintidx?tab=readme-ov-file
    # Японский линтер
    # Оценивает индекс поддерживаемости для каждой функции
    # Настраивается только параметр индекса
    # Не разобрался как точно работает
    # Оставлю
    # Сомнительно
    - maintidx

    # https://golangci-lint.run/docs/linters/configuration/#makezero
    # https://github.com/ashanbrown/makezero
    # Анализируют случаи вставки в массив который был проинициализирован с ненулевой длиной
    # mySlice := make([]int, 10)
    # mySlice = append(mySlice, 1) // ошибка вставка в массив который был проинициализован с ненулевой длиной
    # Имеет опцию для настройки строго режима, который запрещает вообще инициализацию
    # массива с ненулевым значением
    - makezero

    # https://golangci-lint.run/docs/linters/configuration/#mirror
    # https://github.com/butuzov/mirror
    # Автор линтера собирает донаты на помощь Украине
    # Разбирает ряд случаев неоптимальных преобразований []byte в mirror
    # _, _ = new(strings.Builder).WriteString(string([]byte("foobar"))) // want `avoid allocations with \(\*strings\.Builder\)\.Write`
    - mirror

    # https://golangci-lint.run/docs/linters/configuration/#misspell
    # https://github.com/golangci/misspell
    # Обнаруживает грамматические ошибки в ряде популярных английских слов
    # Настраивается
    - misspell

    # https://golangci-lint.run/docs/linters/configuration/#mnd
    # https://github.com/tommy-muehle/go-mnd#checks
    # Запрещает использовать цифры кроме 0 или 1 без объявления их как переменную или константу
    # Есть ряд правил которые представляют собой виды мест где необходимо проверять наличие чисел
    # Числа которые не стоит проверять так же настраиваются
    #
    # const myTimeout = 5 * time.Second // не будет реагировать
    # myTimeout := 5 * time.Second      // для переменной такое неприемлимо
    #
    # revive.add-constant выполняет ту же самую фукнцию
    # Однако проверяет к тому же количество встречаемых строк
    # И предлагает заменить их на константу
    # К тому же сообщение об ошибке у него более насыщено смысловой ценностью
    #
    # Выключаем
    # - mnd

    # https://golangci-lint.run/docs/linters/configuration/#modernize
    # https://pkg.go.dev/golang.org/x/tools/go/analysis/passes/modernize
    # Содержит ряд правил сообщающих об устарелых кусках кода
    # Подробнее в настройках
    # Как и govet включен в стандартные подсказки gopls
    - modernize

    # https://golangci-lint.run/docs/linters/configuration/#musttag
    # https://github.com/go-simpler/musttag
    # Обязывает тегировать поля структур которые будут преобразовываться в данные различных форматов
    #
    # type MyMarshaledStruct struct {
    #   Field string
    # }
    # По скольку есть код где структура маршалится
    # и поле Field не обозначено тегом линтер пожалуется на код
    #
    # _, _ = json.Marshal(MyMarshaledStruct{Field: "Name"})
    #
    #
    # Чтобы исправить issue нам необходимо добавить json тег к полю Field
    # type MyMarshaledStruct struct {
    #   Field string `json:"file_id"`
    # }
    #
    # Настраивается
    - musttag

    # https://golangci-lint.run/docs/linters/configuration/#nakedret
    # https://github.com/alexkohler/nakedret
    # Предупреждает о пустых return с именоваными возвращаемыми значениями
    # только при условии что фукнция длиннее определенного количества строк
    # Выглядит как частный случай revive.bare-return
    # revive.bare-return выполняет ту же самую функцию
    # Выключаем
    # - nakedret

    # https://golangci-lint.run/docs/linters/configuration/#nestif
    # https://github.com/nakabonne/nestif
    # Ряд линтеров revive выполняет ту же самую функцию
    # А именно max-control-nesting, early-return
    # Выключаем
    # - nestif

    # https://golangci-lint.run/docs/linters/configuration/#nilerr
    # https://github.com/gostaticanalysis/nilerr
    # Сообщает о случаях когда при проверке на err != nil мы возвращаем error(nil)
    #	err := doSomeNetwork()
    # if err != nil {
    # 	return error(nil) // Возвращаем error(nil) несмотря на то что исходная ошибка err != nil
    # }
    - nilerr

    # https://golangci-lint.run/docs/linters/configuration/#nilnesserr
    # https://github.com/alingse/nilnesserr
    # Сообщает о случаях когда при проверке на err1 != nil мы возвращаем совсем другое значение
    # Обрабатывает так же случаи и с обработкой значения
    #
    # err := do()
    # if err != nil {
    #     return err
    # }
    #
    # err2 := do2()
    # if err2 != nil {
    #     return err // мы возвращаем заведомо nil значение
    # }
    - nilnesserr

    # https://golangci-lint.run/docs/linters/configuration/#nilnil
    # https://github.com/Antonboom/nilnil
    # Сообщает о случае когда мы возвращаем все nil значения
    # где последним аргументом функции является error
    - nilnil

    # https://golangci-lint.run/docs/linters/configuration/#nlreturn
    # https://github.com/ssgreg/nlreturn
    # Перед return должна идти пустая линия
    # if do2() == nil {
    # 	return nil, nil, io.ErrUnexpectedEOF
    # }
    # return make(chan int), nil, io.ErrUnexpectedEOF
    - nlreturn

    # https://golangci-lint.run/docs/linters/configuration/#noctx
    # https://github.com/sonatard/noctx
    # Сообщает о ряде функций которые не принимают в себя контекст
    # при этом имеющие альтернативы использующие контекст
    # Содержит ряд проверок для стандартной библиотек
    # Рассмотрим для *sql.DB
    #
    # _, _ = db.Begin()
    # ^
    # |
    # имеет context альтернативу в виде BeginTx которая примает в себя контекст
    - noctx

    # https://golangci-lint.run/docs/linters/configuration/#noinlineerr
    # https://github.com/AlwxSin/noinlineerr
    # Запрещает использовать конструкции вида
    # if err := http.ListenAndServe("localhost:9909", nil); err != nil {
    #
    # обязывает писать их в две строчки
    # err := http.ListenAndServe("localhost:9909", nil)
    # if err != nil {...}
    - noinlineerr

    # https://golangci-lint.run/docs/linters/configuration/#nolintlint
    # https://github.com/golangci/golangci-lint/tree/HEAD/pkg/golinters/nolintlint/internal
    # Настраивает правила для nolint директив
    # Контрится //nolint:nolintlint
    # Настраивается
    - nolintlint

    # https://golangci-lint.run/docs/linters/configuration/#nonamedreturns
    # https://github.com/firefart/nonamedreturns
    # Запрещает делать инменованые аргументы в функциях
    # func foo() (named int, err error)
    # Конфликтует с gocritic.unnamedResult, выбор сделан в пользу последнего
    # Есть настройка для включений значений в defer
    # Выключаем
    # - nonamedreturns

    # https://golangci-lint.run/docs/linters/configuration/#nosprintfhostport
    # https://github.com/stbenjam/no-sprintf-host-port
    # Указывает на некоррестные использования fmt.Sprintf для соединения адреса и порта для различных протоколов
    # fmt.Sprintf("http://%s:%d/foo", host, port) // неверно
    # fmt.Sprintf("http://%s/foo", net.JoinHostPort(host, fmt.Sprint(port))) // верно
    # На удивление не конфликтует с gosec G114
    - nosprintfhostport

    # https://golangci-lint.run/docs/linters/configuration/#paralleltest
    # https://github.com/kunwardeep/paralleltest
    # Обязывает использовать t.Parallel в каджом тесте
    # может генерировать false positive
    # Настраивается
    # Выключаем
    # - paralleltest

    # https://golangci-lint.run/docs/linters/configuration/#perfsprint
    # https://github.com/catenacyber/perfsprint
    # Проверяет возможность замены fmt.Sprint более быстрой альтернативой
    # Например
    #
    # _ = fmt.Sprint(1)
    # Может быть заменено
    # _ = strconv.Itoa(1)
    #
    # Настраивается
    - perfsprint

    # https://golangci-lint.run/docs/linters/configuration/#prealloc
    # https://github.com/alexkohler/prealloc
    # Обнаруживает случаи когда можно преаллоцировать массив
    # var y []rune
    # for _, r := range "Hello" {
    # 	y = append(y, r) // можно преаллоцировать массив y
    # }
    #
    # Не работает если y инициализован с make([]rune, 0)
    # что делает его почти бесполезным
    # Пусть будет
    - prealloc

    # https://golangci-lint.run/docs/linters/configuration/#predeclared
    # https://github.com/nishanths/predeclared
    # Сообщает о именах переменных чьё название перекрывает ключевое слово языка
    # func new() {} // переопределяет встроенную функцию new()
    # type Item stuct {new rune} // поле new переопределяет встроенную фукнцию new()
    # Настраивается
    - predeclared

    # https://golangci-lint.run/docs/linters/configuration/#promlinter
    # https://github.com/yeya24/promlinter
    # Содержит ряд правил для работы с github.com/prometheus/client_golang/prometheus
    # Настраивается
    # Подробнее в настройках линтера
    - promlinter

    # https://golangci-lint.run/docs/linters/configuration/#protogetter
    # https://github.com/ghostiam/protogetter
    # Обязывает вас использовать GetProtoField вместо доступа к ProtoField непосредственно
    #	req := &zoo.AddAnimalRequest{
    # 	Name: "Hello",
    # }
    # _ = req.Name
    # _ = req.GetName()
    #
    # Сомнительно, ведь если это опциональное поле
    # мы не сможет различить его отсутствие с пустым значением
    # потому что в геттерах всегда идёт проверка на nil
    # и возвращается значение а не указатель
    #
    # Выключаем
    # - protogetter

    # https://golangci-lint.run/docs/linters/configuration/#promlinter
    # https://github.com/yeya24/promlinter
    # Проверяет что глобальные переменные из других пакетов не изменяются в коде программы
    # gocritic.externalErrorReassign выполняет ту же функцию
    # Однако реагирует на все переназначения глобальных переменных типа error
    # независимо от названия
    #
    # Например в базовой конфигураци reassign не заметит этого
    # context.Canceled = nil
    # Однако gocritic.externalErrorReassign обнаружит подобное нарушение
    #
    # Настраивается
    # Данный линтер настраивается путём указания паттернов поиска имен
    # что может быть достаточно хлопотно настраивать под каждый отдельный случай
    # Выключаем
    # - reassign

    # https://golangci-lint.run/docs/linters/configuration/#recvcheck
    # https://github.com/raeperd/recvcheck
    # Обнаруживает конфликты в методах структур
    #
    # type Human struct{}
    #
    # func (*Human) Hello() {} // Обращение по указателю
    # func (Human) Bye()    {} // Обращение по значению
    #
    # Необходимо сделать оба метода с обращением по указателю
    #
    # func (*Human) Hello() {}
    # func (*Human) Bye()   {}
    #
    # Или сделать оба метода с обращением по значениею
    #
    # func (Human) Hello() {}
    # func (Human) Bye()   {}
    - recvcheck

    # https://golangci-lint.run/docs/linters/configuration/#revive
    # https://github.com/mgechev/revive
    # Мощный линтер со множеством правил
    # Позволяет писать кастомные правила
    - revive

    - rowserrcheck

    - sloglint

    - spancheck

    - sqlclosecheck

    - staticcheck

    - tagalign

    - testifylint

    - unconvert

    - unparam

    - unused

    - usestdlibvars

    - varnamelen

    # https://golangci-lint.run/docs/linters/configuration/#wastedassign
    # https://github.com/sanposhiho/wastedassign
    # ineffassign выполняет ту же самую функцию
    # Выключаем
    # ineffassign появился раньше в списке линтеров
    # в golangci-lint с 1.0.0
    # - wastedassign

    - whitespace

    - wrapcheck

    # - wsl_v5

  settings:
    cyclop:
      # The maximal code complexity to report.
      # Default: 10
      max-complexity: 5

      # The maximal average package complexity.
      # If it's higher than 0.0 (float) the check is enabled.
      # Default: 0.0
      package-average: 0.0

    depguard:
      rules:
        archived:
          deny:
            - pkg: "github.com/golang/mock"
              desc: "this package is archived, use go.uber.org/mock/mockgen"
        rand:
          deny:
            - pkg: "math/rand"
              desc: "use crypto/rand"
            - pkg: "math/rand/v2"
              desc: "use crypto/rand"
        crypto:
          deny:
            - pkg: "crypto/md5"
              desc: "weak crypto algoritm"
            - pkg: "crypto/sha1"
              desc: "weak crypto algoritm"
            - pkg: "crypto/des"
              desc: "weak crypto algoritm"
            - pkg: "crypto/rc4"
              desc: "weak crypto algoritm"
            - pkg: "golang.org/x/crypto/md4"
              desc: "weak crypto algoritm"
            - pkg: "golang.org/x/crypto/ripemd160"
              desc: "weak crypto algoritm"

    errcheck:
      # Внимание на настройку errchkjson.check-error-free-encoding
      exclude-functions:
        - encoding/json.Marshal
        - encoding/json.MarshalIndent

    errchkjson:
      # Сообщает о струтурах которые попадают в json.Marshal при этом не имея публичных полей
      report-no-exported: true
      # По скольку мы точно знаем что переменную безопасно маршалить, ошибка в таких местах недостижима
      # Ошибку в таких местах можно безопасно проигнорировать
      check-error-free-encoding: true

    errorlint:
      # Все вызовы с fmt.Errorf() где оборачивается ошибка пренепременно должны быть с %w
      # Работает не совсем гладко, в случае когда у нас есть уже обернутая ошибка пропускает
      # Надо будет им закинуть на доработку
      # fmt.Errorf("erro1: %w, error2: %v", io.ErrShortBuffer, io.ErrNoProgress)
      errorf: true
      # Запрещает оборачивать с помощью fmt.Errorf более чем одну ошибку
      # Вероятно поэтому errorf в некоторых случаях работает не совсем корректно
      errorf-multi: false
      # Запрещает делать error.(type), необходимо использовать errors.As
      # Агресивный --fix
      # Будет автоматически исправлять все error.(ErrorType) на вызовы errors.As через функцию замыкание
      asserts: true
      # Запрещает использовать == между двумя ошибками, необходимо использовать errors.Is
      # Агресивный --fix
      # Будет автоматически исправлять все err == target на errors.Is(err, target)
      comparison: true

    exhaustruct:
      # В случаях когда не заполнено ни одно поле не жалуемся
      allow-empty: true

      exclude:
        # не реагируем на http.Server
        - '.+/http\.Server$'
        # не реагируем на http.Client
        - '.+/http\.Client$'
        # не реагируем на http.Transport
        - '.+/http\.Transport$'
        # не реагируем на tls.Config
        - '.+/tls\.Config$'
        # не трогаем prometheus для валидации его полей есть отдельный линтер promlinter
        - '.+/prometheus\..*Opts$'

    forbidigo:
      forbid:
        - pattern: ^(fmt\\.Print(|f|ln)|print|println)$
          msg: "direct output to stdout is forbidden"

        - pattern: uuid.Nil
          msg: "prefer use uuid.UUID{} as zero value, because uuid.Nil is global variable and can be reassigned"

    funlen:
      # Считает только тело функции
      # Учитывает пустые строчки
      # Предпочту ориентироваться на количество языковых конструкций а не на сырую длину тела функции
      lines: -1

      # Учитывает объявление переменной, присваивание, if, for, else, switch, case, default, select и т.д.
      # Не учитывает количество пустых строк
      statements: 40

      # Не учитываем комменты при подсчете длины функции
      ignore-comments: true

    gochecksumtype:
      # Независимо от наличия ветки default должны быть осуществлены все возможные type assertion в switch case
      default-signifies-exhaustive: false
      # Сложная надстройка, ломает строгость позволяет при некоторых случаях в перечеление передавать interface
      # При этом линтер не будет указывать на ошибку
      # ПРИЗНАН АНТИПАТТЕРНОМ
      include-shared-interfaces: false

    gocognit:
      min-complexity: 1

    gocritic:
      disable-all: true
      enable-all: false

      enabled-checks:
        # https://go-critic.com/overview.html#appendassign
        # Сообщает о некорректных вызовах функций append
        # Когда нашему slice присваивается результат append другого slice
        # p.positives = append(p.negatives, x)
        # p.negatives = append(p.negatives, y)
        # Не допустит ситуации выше
        - appendAssign

        # https://go-critic.com/overview.html#appendcombine
        # Замечает неэффективные вставки в slice
        # До
        # xs = append(xs, 1)
        # xs = append(xs, 2)
        # После
        # xs = append(xs, 1, 2)
        - appendCombine

        # https://go-critic.com/overview.html#argorder
        # Проверяет порядок аргументов в ряде функций
        # Пример
        # strings.HasPrefix(userpass, "#"), если мы поменяем местами аргументы то линтер сообщит об этом
        # Так как для подобных функций константа всегда идёт вторым аргументом
        - argOrder

        # https://go-critic.com/overview.html#assignop
        # До
        # x = x * 2
        # После
        # x *= 2
        - assignOp

        # https://go-critic.com/overview.html#badcall
        # Запрещает ряд "бесполезных" вызовов функций
        # Например
        # До
        # strings.Replace(s, from, to, 0)
        # После
        # strings.Replace(s, from, to, -1)
        - badCall

        # https://go-critic.com/overview.html#badcond
        # Обнаруживает ряд некорректных выражений
        # До
        # for i := 0; i > n; i++ {...}
        # После
        # for i := 0; i < n; i++
        - badCond

        # https://go-critic.com/overview.html#badlock
        # Обнаруживает некорректные блокировки мьютексов
        # До
        # mu.Lock(); mu.Unlock()
        # После
        # mu.Lock(); defer mu.Unlock()
        - badLock

        # https://go-critic.com/overview.html#badregexp
        # Проверяет регулярные выражения
        # До
        # regexp.MustCompile(`(?:^aa|bb|cc)foo[aba]`)
        # После
        # regexp.MustCompile(`^(?:aa|bb|cc)foo[ab]`)
        - badRegexp

        # https://go-critic.com/overview.html#badsorting
        # Обнаруживает некорректные использования пакета sort
        # Мне не нравится пример который приведен, кажется что он притянут за уши
        # Мне не нравится что данная проверка помечена как experimental
        # Линтер кажется не шибко полезным
        # Можно выключить
        # - badSorting

        # https://go-critic.com/overview.html#badsynconcefunc
        # Проверяет корректное использование sync.OnceFunc
        # Экспериментальный
        # До
        # sync.OnceFunc(foo)()
        # После
        # fooOnce := sync.OnceFunc(foo); ...; fooOnce()
        - badSyncOnceFunc

        # https://go-critic.com/overview.html#boolexprsimplify
        # Обнаруживает булевы выражения которые могут быть упрощены
        # Экспериментальный
        # До
        # a := !(elapsed >= expectElapsedMin)
        # b := !(x) == !(y)
        # После
        # a := elapsed < expectElapsedMin
        # b := (x) == (y)
        - boolExprSimplify

        # https://go-critic.com/overview.html#builtinshadow
        # Запрещает использование ключевых слов языка в названии переменных
        # Экспериментальный
        # До
        # len := 10
        # После
        # length := 10
        #
        # predeclared выполняет ту же самую фукнцию
        # но настраивается и имеет возможность проверять поля
        # Выключаем
        # - builtinShadow

        # https://go-critic.com/overview.html#builtinshadowdecl
        # Запрещает использование ключевых слов языка в названии типов, интерфейсов и т.д. (top level declarations)
        # До
        # type int struct {}
        # После
        # type myInt struct {}
        # predeclared выполняет ту же самую фукнцию
        # но настраивается и имеет возможность проверять поля
        # Выключаем
        # - builtinShadowDecl

        # https://go-critic.com/overview.html#captlocal
        # Запрещает писать капсов для переменных
        # До
        # func f(IN int, OUT *int) (ERR error) {}
        # После
        # func f(in int, out *int) (err error) {}
        - captLocal

        # https://go-critic.com/overview.html#caseorder
        # Проверяет порядок в switch x.(type)
        # Если интерфейсы идут раньше конкретных значений то код описанный в касте на конкретное значение никогда не выполнится
        # switch x.(type) {
        #        case ast.Expr:
        #           fmt.Println("expr")
        #        case *ast.BasicLit:
        #           fmt.Println("basic lit") // Never executed
        #  }
        - caseOrder

        # https://go-critic.com/overview.html#codegencomment
        # Проверяет правильность коментов в codegen
        # До
        # // This file was automatically generated by foogen
        # После
        # // Code generated by foogen. DO NOT EDIT.
        - codegenComment

        # https://go-critic.com/overview.html#commentformatting
        # Форматирует комментарии
        # До
        # //This is a comment
        # После
        # // This is a comment
        - commentFormatting

        # https://go-critic.com/overview.html#commentedoutcode
        # Обнаруживает комментарии внутри тел функций
        # Достаточно умный, хотя и не исключаю некоторого количества false positive
        # Экспериментальный
        # До
        # // fmt.Println("Debugging hard")
        # foo(1, 2)
        # После
        # foo(1, 2)
        - commentedOutCode

        # https://go-critic.com/overview.html#commentedoutimport
        # Проверяет закоменченные импорты
        # Достаточно умный, хотя и не исключаю некоторого количества false positive
        # Не всегда срабатывает
        # Экспериментальный
        - commentedOutImport

        # https://go-critic.com/overview.html#defaultcaseorder
        # Запрещает вставлять default в switch куда либо кроме конца
        - defaultCaseOrder

        # https://go-critic.com/overview.html#deferinloop
        # Запрещает вызывать defer в циклах
        - deferInLoop

        # https://go-critic.com/overview.html#deferunlambda
        # Обнаруживает случаи когда вызов defer функции можно упростить
        # Экспериментальный
        # До
        # defer func() { f() }()
        # После
        # defer f()
        - deferUnlambda

        # https://go-critic.com/overview.html#deprecatedcomment
        # Проверяет правильность написания Deprecated коментов
        # До
        # // deprecated, use FuncNew instead
        # После
        # // Deprecated: use FuncNew instead
        - deprecatedComment

        # https://go-critic.com/overview.html#docstub
        # Запрещает писать затычки на коменты рода Foo ...
        # Включить в случае если в revive включено соответствующая проверка
        # - docStub

        # https://go-critic.com/overview.html#duparg
        # Анализирует код на подозрительные повторения аргументов
        # До
        # copy(dst, dst)
        # После
        # copy(dst, src)
        - dupArg

        # https://go-critic.com/overview.html#dupbranchbody
        # Обнаруживает случаи когда в if и else блоках заключен один и тот же код
        # Не работает на switch case
        - dupBranchBody

        # https://go-critic.com/overview.html#dupcase
        # Обнаруживает повторения в switch case которые не в силах обнаружить компилятор
        # До
        # case ys[0], ys[1], ys[2], ys[0], ys[4]:
        # После
        # case ys[0], ys[1], ys[2], ys[3], ys[4]:
        - dupCase

        # https://go-critic.com/overview.html#dupimport
        # Обнаруживает дубликаты импортов под разными названиями
        # import (
        # 	"fmt"
        # 	printing "fmt" // Imported the second time
        # )
        # staticcheck.ST1019 выполняет ту же самую функцию
        - dupImport

        # https://go-critic.com/overview.html#dupoption
        # Обнаруживает дубликаты функций при Option pattern
        #	_ = newPanel("hello",
        # 	withWidth(w),
        # 	withHeight(h),
        # 	/*! function argument `withWidth(w)` is duplicated */
        # 	withWidth(w),
        # )
        # Если используется та же функция-опция но с другими значениями линтер не реагирует
        - dupOption

        # https://go-critic.com/overview.html#dupsubexpr
        # Обнаруживает подозрительные дублирующиеся выражения
        #        sort.Slice(xs, func(i, j int) bool {
        #             return xs[i].v < xs[i].v // Duplicated index
        #        })
        # staticcheck.SA4000 выполняет ту же самую функцию
        - dupSubExpr

        # https://go-critic.com/overview.html#dynamicfmtstring
        # Обнаруживает некорректные использования fmt.Sprintf, fmt.Errorf функций
        # staticcheck.S1039 выполняет ту же самую функцию
        - dynamicFmtString

        # https://go-critic.com/overview.html#elseif
        # Обнаруживает код с if вложенным в else блок
        # Предлагает заменить на elseif
        # Достаточно туповат и пример с доки не воспроизводится
        # Если у нас во вложенном блоке есть конструкция вида if x := cond2; x elseif не репортит ничего
        - elseif

        # https://go-critic.com/overview.html#emptydecl
        - emptyDecl
        # https://go-critic.com/overview.html#emptyfallthrough
        # Связан с fallthrough который ОБЪЯВЛЕН АНТИПАТТЕРНОМ
        # Бесполезен
        # - emptyFallthrough

        # Detects empty string checks that can be written more idiomatically.
        # https://go-critic.com/overview.html#emptystringtest
        - emptyStringTest

        # https://go-critic.com/overview.html#equalfold
        # Обнаруживает неоптимальные сравнения строк
        # До
        # strings.ToLower(x) == strings.ToLower(y)
        # После
        # strings.EqualFold(x, y)
        - equalFold

        # https://go-critic.com/overview.html#evalorder
        # Обнаруживает нежелательные преобразования при вызове return
        # До
        # return x, f(&x)
        # После
        # err := f(&x)
        # return x, err
        - evalOrder

        # https://go-critic.com/overview.html#exitafterdefer
        # При наличии defer вызовов перед функциями запрещает вызов функций приводящих к закрытию программы через os.Exit
        # log.Fatal, log.Fatalf, os.Exit и т.д.
        # Полезно ведь defer в таком случае не будет вызван
        - exitAfterDefer

        # https://go-critic.com/overview.html#exposedsyncmutex
        # Запрещает встраивание sync.Mutex
        # Данную функцию уже выполняет другой линтер embeddedstructfieldcheck
        # Выключаем
        # - exposedSyncMutex

        # https://go-critic.com/overview.html#externalerrorreassign
        # Запрещает переназначать переменные типа error из других пакетов
        # context.Canceled = nil
        - externalErrorReassign

        # https://go-critic.com/overview.html#filepathjoin
        # Замечает некорректное использование filepath.Join
        # До
        # filepath.Join("dir/", filename)
        # После
        # filepath.Join("dir", filename)
        - filepathJoin

        # https://go-critic.com/overview.html#flagderef
        # Запрещает делать разименование для функций flag
        # До
        # b := *flag.Bool("b", false, "b docs")
        # После
        # var b bool; flag.BoolVar(&b, "b", false, "b docs")
        - flagDeref

        # https://go-critic.com/overview.html#flagname
        # Обнаруживает некорректные названия флагов (пробелы, другие некорректные символы)
        # До
        # b := flag.Bool(" foo ", false, "description")
        # После
        # b := flag.Bool("foo", false, "description")
        - flagName

        # https://go-critic.com/overview.html#hexliteral
        # Обнаруживает шестнадцинарные литералы со смешанными цифрами регистра
        # До
        # x := 0X12
        # y := 0xfF
        # После
        # x := 0x12
        # y := 0xff (A)
        # y := 0xFF (B)
        - hexLiteral

        # https://go-critic.com/overview.html#httpnobody
        # Замечает использования nil значений в боде http.NewRequest и просит заменить на http.NoBody
        # До
        # http.NewRequest("GET", url, nil)
        # После
        # http.NewRequest("GET", url, http.NoBody)
        - httpNoBody

        # https://go-critic.com/overview.html#hugeparam
        # Обнаруживает "тяжелые структуры" которые оптимальней было бы передавать через указатель вместо копирования
        # По умолчанию 80
        # До
        # func f(x [1024]int) {}
        # После
        # func f(x *[1024]int) {}
        - hugeParam

        # https://go-critic.com/overview.html#ifelsechain
        # Обнаруживает if else конструкции которые можно переписать на switch case
        - ifElseChain

        # https://go-critic.com/overview.html#importshadow
        # Определяет, когда импортированные имена пакетов затенены в назначениях.
        - importShadow

        # https://go-critic.com/overview.html#indexalloc
        # Обнаруживает когда вызов strings.Index можно заменить на bytes.Index вместо лишних аллокаций
        # До
        # strings.Index(string(x), y)
        # После
        # bytes.Index(x, []byte(y))
        - indexAlloc

        # https://go-critic.com/overview.html#initclause
        # Запрещает вызов функций в блоке if
        # До
        # if sideEffect(); cond {...}
        # После
        # sideEffect()
        # if cond {...}
        - initClause

        # https://go-critic.com/overview.html#mapkey
        # Обнаруживает странные включения в map ключах
        # Выглядит малополезным, c возможностью генераций неприятных false positive
        # - mapKey

        # https://go-critic.com/overview.html#methodexprcall
        # Обнаруживает обнаруживает методы которые могут быть сокращены
        # Мне не нравится сама суть линтера и показанный пример
        # Очень вероятно будет генерировать множесто false positive
        # - methodExprCall

        # https://go-critic.com/overview.html#nestingreduce
        # Обнаруживает места где можно избавится от лишней вложенности
        - nestingReduce

        # https://go-critic.com/overview.html#newderef
        # Обнаруживает немедленное разыменование new(Type).
        # До
        # x := *new(bool)
        # После
        # x := false
        - newDeref

        # https://go-critic.com/overview.html#nilvalreturn
        # Обнаруживает возвращающие операторы, результаты которых оценивают как ноль
        # Если оператор возвращает переменную чьё значение точно равно nil, предлагает заменить на явное определение
        # if err == nil {
        # 	return err
        # }
        # Предложит заменить на
        # if err == nil {
        #   return nil
        # }
        - nilValReturn

        # https://go-critic.com/overview.html#octalliteral
        # Обнаруживает восьмитеральные литералы старого стиля.
        # До
        # foo(02)
        # После
        # foo(0o2)
        # Позволяет подметить неожиданные использования
        # i := 010 равно одному разряду в восьмиричной системе
        # i == 8 (true)
        # i == 10 (false)
        - octalLiteral

        # https://go-critic.com/overview.html#offby1
        # Обнаруживает различные ошибки связанные со смещением на единицу
        # До
        # xs[len(xs)]
        # После
        # xs[len(xs)-1]
        - offBy1

        # https://go-critic.com/overview.html#paramtypecombine
        # Обязывает группировать переменные функции по типу
        # До
        # func foo(a, b int, c, d int, e, f int, g int) {}
        # После
        # func foo(a, b, c, d, e, f, g int) {}
        - paramTypeCombine

        # https://go-critic.com/overview.html#preferdecoderune
        # В случаях когда нам нужно получить первый символ строки предлагает заменить
        # r := []rune(s)[0]
        # На
        # r, _ := utf8.DecodeRuneInString(s)
        # Потому что последний случай не предполагает дополнительных аллокаций вызванных []rune(s)
        - preferDecodeRune

        # https://go-critic.com/overview.html#preferfilepathjoin
        # Обнаруживает некорректный способ конкатенации с os.PathSeparator
        # Предлагает заменить на filepath.Join
        # До
        # x + string(os.PathSeparator) + y
        # После
        # filepath.Join(x, y)
        # Не реагирует на какие либо другие способы конкатенации, только с os.PathSeparator
        - preferFilepathJoin

        # https://go-critic.com/overview.html#preferfprint
        # Обнаруживает случаи когда fmt.Sprint(f/ln) может быть заменено на fmt.Fprint(f/ln)
        # До
        # w.Write([]byte(fmt.Sprintf("%x", 10)))
        # После
        # fmt.Fprintf(w, "%x", 10)
        - preferFprint

        # https://go-critic.com/overview.html#preferstringwriter
        # Если Writer имеет метод WriteString предлагает заменить вызов
        # w.Write([]byte("foo"))
        # На
        # w.WriteString("foo")
        # mirror выполняет ту же самую функцию, однако разбирает гораздо больше случаев
        # Выключаем
        # - preferStringWriter

        # https://go-critic.com/overview.html#preferwritebyte
        # Обнаруживает случаи когда руна переданная
        # В
        # w.WriteRune(<rune>)
        # Является ASCII символом, соответственно умещается в один байт и может быть заменена
        # На
        # w.WriteByte(<rune>)
        - preferWriteByte

        # https://go-critic.com/overview.html#ptrtorefparam
        # Анализирует входные/выходные параметры на предмет наличия указателей на референсные типы
        # До
        # func f(m *map[string]int) (*chan *int)
        # После
        # func f(m map[string]int) (chan *int)
        - ptrToRefParam

        # https://go-critic.com/overview.html#rangeappendall
        # Обнаруживает вставку всего слайса во время итерации вместо встаки отдельного параметра
        # for _, n := range ns {
        # 	rs = append(rs, ns...) // append all slice data
        #   Заменит на
        #   rs = append(rs, n)
        # }
        # Не вижу практической пользы, может генерировать кучу false positive
        # - rangeAppendAll

        # https://go-critic.com/overview.html#rangeexprcopy
        # Обнаруживает излишнее копирование array при итерации
        # var data []byte
        # До
        # for _, x := range data // копирует 2048 байт
        # После
        # for _, x := range &data // копирования данный не происходит
        - rangeExprCopy

        # https://go-critic.com/overview.html#rangevalcopy
        # Обнаруживает циклы которые на каждую итерацию копируют большие объемы данных
        # var data make([][1024]byte, 100)
        # До
        # for _, x := range data // на каждую итерацию происходит копирование 1024 байт
        # После
        # for i := range xs
        # x := &xs[i] // доступ по указателю
        - rangeValCopy

        # https://go-critic.com/overview.html#redundantsprint
        # Проверяет на наличие излишних fmt.Sprint
        # До
        # fmt.Sprint(x)
        # После
        # x.String()
        - redundantSprint

        # https://go-critic.com/overview.html#regexpmust
        # В случаях когда на вход regexp.Compile подаётся константа предлагает заменить на regexp.MustCompile
        # Не зависит от того проверяем мы ошибку или нет, ключевым фактором является строковая константа в аргументе функции
        # До
        # re, _ := regexp.Compile("const pattern")
        # После
        # re := regexp.MustCompile("const pattern")
        - regexpMust

        # https://go-critic.com/overview.html#regexppattern
        # Проверяет регулярные выражения на распространённые ошибки
        # Например неэкранированная точка
        # До
        # regexp.MustCompile(`google.com|yandex.ru`)
        # После
        # regexp.MustCompile(`google\.com|yandex\.ru`)
        - regexpPattern

        # https://go-critic.com/overview.html#regexpsimplify
        # Проверяет регулярные выражения на возможность упрощения
        # До
        # regexp.MustCompile(`(?:a|b|c)   [a-z][a-z]*`)
        # После
        # regexp.MustCompile(`[abc] {3}[a-z]+`)
        - regexpSimplify

        # https://go-critic.com/overview.html#returnafterhttperror
        # Обнаруживает вызовы http.Error после которых не последовал return
        # До
        # if err != nil { http.Error(...); }
        # После
        # if err != nil { http.Error(...); return; }
        - returnAfterHttpError

        # https://go-critic.com/overview.html#ruleguard
        # https://github.com/quasilyte/go-ruleguard
        # https://go-ruleguard.github.io/by-example/
        # Очень мощный инструмент для проверок
        # Позволяет писать собственные линтеры в файлах go
        # Настраиваемый
        - ruleguard

        # https://go-critic.com/overview.html#singlecaseswitch
        # Если наш switch case состоит из одного case предлагает заменить его на if
        # До
        # switch x := x.(type) {
        #     case int:
        #         body()
        # }
        # После
        # if x, ok := x.(int); ok {
        #     body()
        # }
        - singleCaseSwitch

        # https://go-critic.com/overview.html#sliceclear
        # Обнаруживает циклы зачищающие массивы
        # Выглядит излишним
        # Не вижу практического применения
        # Выглядит как частный случай intrange
        # intrange выполняет ту же самую функцию
        # Выключаем
        # - sliceClear

        # https://go-critic.com/overview.html#sloppylen
        # Результат функции len() имеет тип int
        # Однако он не может быть меньше нуля
        # До
        # len(arr) <= 0
        # После
        # len(arr) == 0
        - sloppyLen

        # https://go-critic.com/overview.html#sloppyreassign
        # Обнаруживает неуместные, подозрительные, странные переназначения переменных
        # До
        # if err = f(); err != nil { return err }
        # После
        # if err := f(); err != nil { return err }
        - sloppyReassign

        # https://go-critic.com/overview.html#sloppytypeassert
        # Сообщает о неуместных, бессмысленных type assert
        # staticcheck.S1040 выполняет ту же самую функцию
        - sloppyTypeAssert

        # https://go-critic.com/overview.html#sortslice
        # Обнаруживает некорректные использования sort.Slice
        # Некорректный порядок i, j
        # Более не нашёл, должен подсказывать замену sort.Slice на sort.Ints, sort.Strings при соответствующих типах элементов массива
        # Но ничего такого не происходит
        # Оставляю
        - sortSlice

        # https://go-critic.com/overview.html#sprintfquotedstring
        # Обнаруживает директивы форматирования «%s», которые могут быть заменены на %q.
        # До
        # fmt.Sprintf(`"%s"`, s)
        # После
        # fmt.Sprintf(`%q`, s)
        - sprintfQuotedString

        # https://go-critic.com/overview.html#sqlquery
        # Если мы не используем возвращаемое значение из db.Query, db.QueryContext предлагает заменить на db.Exec и db.ExecContext соответственно
        # Не работает на db.QueryRow и db.QueryRowContext
        - sqlQuery

        # https://go-critic.com/overview.html#stringconcatsimplify
        # Сообщает о случаях когда конкатенация строк может быть упрощена
        # До
        # strings.Join([]string{x, y}, "_")
        # После
        # x + "_" + y
        - stringConcatSimplify

        # https://go-critic.com/overview.html#stringxbytes
        # Сообщает об излишних конверсиях между string и []byte
        # До
        # copy(b, []byte(s))
        # После
        # copy(b, s)
        - stringXbytes

        # https://go-critic.com/overview.html#stringscompare
        # Запрещает использовать strings.Compare
        # Заменяет на встроенное сравнение
        # До
        # strings.Compare(x, y)
        # После
        # x < y
        # Может генерить false positive однако как часто мы вообще используем strings.Compare
        # Оправдан
        - stringsCompare

        # https://go-critic.com/overview.html#switchtrue
        # Запрещает делать switch true constant
        # При чем с false всё хорошо
        # До
        # switch true {...}
        # После
        # switch {...}
        - switchTrue

        # https://go-critic.com/overview.html#syncmaploadanddelete
        # Обнаруживает последовательный вызов функций sync.Map Load + Delete и предлагает заменить на один вызов функции LoadAndDelete
        # До
        # v, ok := m.Load(k); if ok { m.Delete($k); f(v); }
        # После
        # v, deleted := m.LoadAndDelete(k); if deleted { f(v) }
        - syncMapLoadAndDelete

        # https://go-critic.com/overview.html#timeexprsimplify
        # Обнаруживает случаи ручной конвертации времени в миллисекунды
        # Достаточно туповат работает только на один кейс
        # mnd всегда выручит в подобной ситуации
        # До
        # t.Unix() / 1000
        # После
        # t.UnixMilli()
        - timeExprSimplify

        # https://go-critic.com/overview.html#todocommentwithoutdetail
        # Запрещает писать пустые TODO
        # До
        # // TODO
        # После
        # // TODO(admin): pass context.TODO() instead of nil
        - todoCommentWithoutDetail

        # https://go-critic.com/overview.html#toomanyresultschecker
        # Запрещает возвращать из функции больше определённого количества аргументов
        # Настраивается (по умолчанию 5)
        # До
        # func fn() (a, b, c, d float32, _ int, _ bool)
        # После
        # func fn() (resultStruct, bool)
        - tooManyResultsChecker

        # https://go-critic.com/overview.html#truncatecmp
        # Обнаруживает потенциальные случаи переполнения при конвертации числовых типов
        # При сравнении двух чисел разных типов, приведение должно быть к большему разряду
        # Так как иначе возможен срез и неопределённое поведение
        # x := int32()
        # y := int16()
        # До
        # int16(x) < y // если x больше чем 32767 то произодёт переполнение
        # После
        # x < int32(y)
        # Пример как работает переполнение при конвертации типов
        # x := 1000000
        # println(int16(int32(x))) // выведет 16960
        # Разбирает лишь случаи переполнения при сравнении
        # Выглядит как частный случай gosec.G115, который покрывает все случае конвертации
        # gosec.G115 выполняет ту же самую функцию
        # Выключаем
        # - truncateCmp

        # https://go-critic.com/overview.html#typeassertchain
        # Обнаруживает ветки if else c type assertion и предлагает заменить на switch x.(type)
        - typeAssertChain

        # https://go-critic.com/overview.html#typedeffirst
        # Если метод структуры объявлен в коде раньше чем сама структура выведет предупреждение
        - typeDefFirst

        # https://go-critic.com/overview.html#typeswitchvar
        # Обнаруживает переключатели типа, которые могут извлечь выгоду из предложения защиты типа с переменной
        # staticcheck.S1034 выполняет ту же самую функцию
        - typeSwitchVar

        # https://go-critic.com/overview.html#typeunparen
        # Убирает лишние скобочки при объявлении переменных
        # До
        # type foo [](func([](func())))
        # После
        # type foo []func([]func())
        - typeUnparen

        # https://go-critic.com/overview.html#uncheckedinlineerr
        # Обнаруживает непроверенные ошибки в if
        # Только при инлайнинге
        # До
        # if err := expr(); err2 != nil { /*...*/ }
        # После
        # if err := expr(); err != nil { /*...*/ }
        - uncheckedInlineErr

        # https://go-critic.com/overview.html#underef
        # Обнаруживает разыменования которые могут быть опущены
        # До
        # (*k).field = 5
        # v := (*a)[5] // only if a is array
        # После
        # k.field = 5
        # v := a[5]
        - underef

        # https://go-critic.com/overview.html#unlabelstmt
        # Обнаруживает избыточные метки оператора
        # derp: // может быть опущена
        #   for x := range xs {
        #       if x == 0 {
        # 	        break derp // может быть опущена
        #       }
        #   }
        - unlabelStmt

        # https://go-critic.com/overview.html#unlambda
        # Обнарживает использования функций которые могут быть сокращены
        # До
        # slices.SortFunc(nums, func(a, b int) int { return cmp.Compare(a, b) })
        # После
        # slices.SortFunc(nums, cmp.Compare)
        - unlambda

        # https://go-critic.com/overview.html#unnamedresult
        # Функция не может возвращать больше двух элементов благодаря gocritic.tooManyResultsChecker
        # Соответственно в случаях когда мы возвращаем 2 аргумента среди которых нет error мы обязаны их назвать
        - unnamedResult

        # https://go-critic.com/overview.html#unnecessaryblock
        # Обнаруживает неуместное использование блоков {...}
        # До
        # x := 1
        # {
        #     print(x)
        # }
        # После
        # x := 1
        # print(x)
        - unnecessaryBlock

        # https://go-critic.com/overview.html#unnecessarydefer
        # Обнаруживает избыточные употребления defer
        # До
        # func foo(name string) { defer os.Remove(name) }
        # После
        # func foo(name string) { os.Remove(name) }
        - unnecessaryDefer

        # https://go-critic.com/overview.html#unslice
        # Обнаруживает избыточные употребления unslice [:]
        # До
        # copy(b[:], values...)
        # После
        # copy(b, values...)
        - unslice

        # https://go-critic.com/overview.html#valswap
        # Предлагает более оптимальный вариант обмена значений переменных там где это возможно
        # До
        # *tmp = *x; *x = *y; *y = *tmp
        # После
        # *x, *y = *y, *x
        - valSwap

        # https://go-critic.com/overview.html#weakcond
        # Проверяет ряд условий которые не являются исключающими, которые при этом могут привести к ошибкам
        # До
        # xs != nil && xs[0] != nil // xs может быть non-nil пустым массивом, следовательно второе условие вызовет панику
        # После
        # len(xs) != 0 && xs[0] != nil // второе условие выполнится только в случае когда длина массива равно 1 и более
        - weakCond

        # https://go-critic.com/overview.html#whynolint
        # Запрещает писать //nolint без объяснение причин
        # До
        # //nolint
        # После
        # //nolint // reason
        # Для регулирования проверок относительно nolint объявлений существует специальный линтер
        # nolintlint выполняет ту же самую фукнцию
        # Но при этом настраивается
        # Выключаем
        # - whyNoLint

        # https://go-critic.com/overview.html#wrapperfunc
        # Обнаруживает функции которые могут быть заменены на соответствующие обертки
        # До
        # wg.Add(-1)
        # После
        # wg.Done()
        - wrapperFunc

        # https://go-critic.com/overview.html#yodastyleexpr
        # Обнаруживает Yoda style выражения и предлагает заменить на обычные
        # При сравнении переменной с константой сначала идёт переменная и только потом константа
        # До
        # return nil != ptr
        # После
        # return ptr != nil
        - yodaStyleExpr

        # https://go-critic.com/overview.html#zerobyterepeat
        # Обнаруживает заполнения []byte c помощью функции bytes.Repeat
        # когда []byte заполняется пустыми значениями
        # До
        # bytes.Repeat([]byte{0}, x)
        # После
        # make([]byte, x)
        - zeroByteRepeat

      settings:
        commentedOutCode:
          # Если хоть один символ есть закоменченный то он должен быть убран
          minLength: 0

        rangeValCopy:
          # Пропускаем тестовы функции
          skipTestFuncs: true

        ruleguard:
          # Папка с файлами содержащими правила
          rules: rules/*.go

        tooManyResultsChecker:
          maxResults: 2

    gosec:
      config:
        # важно включать разрешение в кавычки, иначе разрешение не переопределяется
        G306: "0o666"
      # To select a subset of rules to run.
      # Available rules: https://github.com/securego/gosec#available-rules
      # Default: [] - means include all rules
      includes:
        # https://github.com/securego/gosec/blob/master/RULES.md
        # Проверяет захардкоженные переменные которые потенциально могут быть секретами
        # Например захардкоженная строка
        # var secretToken = "asdfasfdaskljfla"
        # Будет замечена этим правилом
        # Оставляем, полезно
        # Регулярное выражение для поиска credentials настроивается
        - G101 # Look for hard coded credentials

        # Запрещает использование "0.0.0.0" для IPv4 и "::" для IPv6
        # Использование таких интерфейсов открывает приложение доступным для всех
        # Что может быть нежелательно в ряде случаев
        # Умный, просто на строки не реагирует, только на непосредственное подключение
        # Но легко обманывается если хост становится переменной
        # Тем не менее полезно
        - G102 # Bind to all interfaces

        # Запрещает пользоваться функциями из пакета unsafe
        - G103 # Audit the use of unsafe block

        # https://github.com/securego/gosec/blob/master/RULES.md#g104
        # Проверяет обработку ошибок
        # Выключаем так как этим уже занимается настроенным нами errcheck
        # errcheck выполняет ту же самую фукнцию
        # - G104 # Audit errors not checked

        # Было связано с использованием math/big.Int.Exp
        # В настроящее время исправлено
        # Данное правило удалено из линтера и больше не поддерживается
        # - G105

        # Запрещает использование ssh.InsecureIgnoreHostKey
        # Игнорирование проверки ssh ключей может привести к атаке MITM (Man In The Middle)
        - G106 # Audit the use of ssh.InsecureIgnoreHostKey

        # Запрещает делать http.Get, http.Post, http.Do, http.Head, http.PostForm с url из сторонних источников
        # http.NewRequest при этом проходит
        # Очень странный
        # Выключаем
        # - G107 # Url provided to HTTP request as taint input

        # Запрещает использовать импорт _ net/http/pprof
        # По умолчанию он регистрирует их к http.DefaultServeMux что может привести к нежелательным последствиям
        # Необходимо регистрировать их вручную к вашему http серверу
        - G108 # Profiling endpoint automatically exposed on /debug/pprof

        # Предупреждает о потенциальном переполнении чисел при использовании strconv.Atoi
        # Ты можешь конвертировать строку в число, при этом его значение будет больше чем int32
        # Далее ты конвертируешь это число до int32 что может привести к переполнению
        # Так как размер int платформозависимый
        # Выглядит как частный случай G115 и может приводить к дублям
        # Выключаем
        # - G109 # Potential Integer overflow made by strconv.Atoi result conversion to int16/32

        # В случае если в функцию io.Copy, io.CopyBuffer в качестве src io.Reader параметра передан тип gzip.*Reader
        # В данный список входят ряд типов, возвращаемых функциями пакетов
        # которые предоставляют функционал работы с архивами
        # Сообщит о возможной опасности
        # Требует указывать максимальное количество данных которое желаете копировать
        # Иначе может привести с нежелательному исчерпанию памяти
        # Независимо от dst io.Writer параметра, даже если ты копируешь не в оперативную память а на диск
        # Безвредно, пусть будет
        - G110 # Potential DoS vulnerability via decompression bomb

        # https://github.com/securego/gosec/blob/master/RULES.md#g111
        # Запрещает http.Dir("/"), что даёт доступ ко всем файлам в файловой системе
        # Настраиваемый
        - G111 # Potential directory traversal

        # slowloris - тип DoS атаки когда злоумышленник
        # поддерживает их как можно больше, медленно отправляя данные
        # что приводит к отказу в обслуживании
        # Правило срабатывает если в http.Server не указан ReadHeaderTimeout или ReadTimeout
        # ReadHeaderTimeout, IdleTimeout в случае если не определены используют значение ReadTimeout
        # Если же и ReadTimeout не определен то значения остаются не заданными и срабатывает линтер
        - G112 # Potential slowloris attack

        # Продолжение предыдущего правила, запрещает использование функций http которые не поддерживают timeout
        # А именно ListenAndServe, ListenAndServeTLS, Serve, ServeTLS
        - G114 # Use of net/http serve function that has no support for setting timeouts

        # Запрещает конвертацию чисел большей битности в меньшую
        # i := int64(rand.Int())
        # _ = int32(i)
        - G115 # Potential integer overflow when converting between integer types

        # Запрещает использовать результат фунции fmt.Sprintf в качестве аргумента
        # query в типах стандартной библиотеки
        # Не работает на сторонние библиотеки
        # Обманывается оборачиваением в функцию и параметризацией query
        # Обманывается через fmt.Fprintf
        - G201 # SQL query construction using format string

        # Продолжение предыдущего правила
        # Запрещает использовать строки, сконкатенированные с переменными
        # При конкатенации статичных строк правило не срабатывает
        # 	_, _ = db.Exec("SELECT " + "a, b, c " + "FROM " + "requests") - только статичные строки, правило не работает
        # 	_, _ = db.Exec("SELECT " + "a, b, c " + "FROM " + table - table переменная типа string, правило работает
        # Не работает на сторонние библиотеки
        # Обманывается оборачиваением в функцию и параметризацией query
        - G202 # SQL query construction using string concatenation

        # Запрещает оборачивание в следующие типы данных из внешних источников (не статичный контент) включая embed
        # html.template.CSS
        # html.template.HTML
        # html.template.HTMLAttr
        # html.template.JS
        # html.template.JSStr
        # html.template.Srcset
        # html.template.URL
        # так как эти типы используются как маркер надежных данных которые не требуют экранирования
        # неверные данные могут привести к XSS атакам
        - G203 # Use of unescaped data in HTML templates

        # Запрещает создавать дочерний процесс с данными из внешних источников
        # os/exec.Command|CommandContext и все функции которые так или иначе создают новый процесс
        # Может генерить достаточно большое количество false positive
        # Выключаем
        # - G204 # Audit use of command execution

        # Часть следующих линтеров связаны с файловыми разрешениями
        # 4 - чтение, 2 - запись, 1 - выполнение
        # Разберем допустимое разрешение 750
        # Первый символ означает разрешения для владельца, в данный линтер разреш
        # 7 = 4 + 2 + 1 = Чтение(4) + Запись(2) + Выполнение(1)
        # Второй символ означает разрешения для группы (группу можно узнать с помощью ls -l имя_файла)
        # 5 = 4 + 1     = Чтение(4) + Выполнение(1)
        # Третий символ означает разрешения для пользователя который
        # А) Не является владельцем файла
        # Б) Не входит в группу-владелец
        # Такой пользователь попадает в категорию (остальные)
        # 0 = 0 - никакие действия с файлом недоступны

        # https://github.com/securego/gosec/blob/master/RULES.md#g301-g302-g306-g307
        # Указывает максимально допустимые разрешения при создании директорий
        # Срабатывает при вызове функций os.Mkdir, os.MkdirAll с разрешением выше 750
        # 7 - для владельца директории нет ограничений
        # 5 - для группы возможно только Чтение(4) + Выполнение(1)
        # 0 - для прочих пользователей недопустимы никакие действия с директорией
        # Допустимое разрешение настраивается
        # Запрещает создавать папки которые заведомо могут быть доступны нежелательным пользователям
        - G301 # Poor file permissions used when creating a directory

        # https://github.com/securego/gosec/blob/master/RULES.md#g301-g302-g306-g307
        # Указывает максимально допустимые разрешения при создании директорий
        # Срабатывает при вызове функций os.OpenFile, os.Chmod с разрешением выше 600
        # 6 - для владельца возможны только Чтение(4) + Запись(2)
        # 0 - для группы недопустимы никакие действия
        # 0 - для прочих пользователей недопустимы никакие действия
        # Допустимое разрешение настраивается
        # Запрещает менять разрешение в большую сторону
        # Запрещает открывать файл для выполнения, читать или писать файл кому либо кроме владельца
        - G302 # Poor file permissions used with chmod

        # Запрещает создавать файлы в /tmp /var директориях с помощью стандартных функций
        # Для создания файла в подобных директориях необходимо использовать os.CreateTemp
        - G303 # Creating tempfile using a predictable path

        # Запрещает открывать файлы по пути полученных из строковых переменных
        # Разрешается открывать файлы только из статичных строк, известных на этапе компиляции
        # В go 1.24 добавили os.Root, с помощью него можно решить данную проблему
        # методы работы с файлами в структуре os.Root не позволяют открыть файл извне рутовой директории
        - G304 # File path provided as taint input

        # Запрещает следующие конструкции кода
        # _ = path.Join(new(zip.File).Name)
        # _ = filepath.Join(new(tar.Header).Name)
        # При разархивации мы создаём копию всех файлов в архиве включая названия
        # Если файл будет содержать в своем названии ../filename
        # При разархивации мы можем создать файл в некорреткной локации
        # Решение: разархивировать с помощью os.Root или проверять пути файлов которые мы создаем
        # Хорошо комбинируется с предыдущим файлом
        - G305 # File traversal when extracting zip/tar archive

        # https://github.com/securego/gosec/blob/master/RULES.md#g301-g302-g306-g307
        # Указывает максимально допустимые разрешения при записи файла
        # Срабатывает при вызове функций os.WriteFile с разрешением выше 600
        # 6 - для владельца возможны только Чтение(4) + Запись(2)
        # 0 - для группы недопустимы никакие действия
        # 0 - для прочих пользователей недопустимы никакие действия
        # Допустимое разрешение настраивается
        # Файл который мы записали нашей программой не должен быть исполняемым и доступ к нему должен быть только у нас
        # Дефолтное разрешение изменено на 0o666, файл который мы создали программой может быть доступен для всех
        # Связано с дефолным ограничением следующего правила
        - G306 # Poor file permissions used when writing to a new file

        # https://github.com/securego/gosec/blob/master/RULES.md#g301-g302-g306-g307
        # Указывает максимально допустимые разрешения при записи файла
        # Срабатывает при вызове функций os.Create с разрешением выше 666
        # 6 - для владельца возможны только Чтение(4) + Запись(2)
        # 6 - для группы возможны только Чтение(4) + Запись(2)
        # 6 - для прочих возможны только Чтение(4) + Запись(2)
        # Допустимое разрешение настраивается
        # Файл который мы создали нашей программой не должен быть исполняемым и доступ к нему должен быть только у нас
        - G307 # Poor file permissions used when creating a file with os.Create

        # Алгоритмы md5 или sha1 являются небезопасными
        # Выключен по причине добавления этих пакетов в черный лист
        # Данный подход позволит избежать смысловых дублей при использовании линтера
        # Выключаем
        # - G401 # Detect the usage of MD5 or SHA1

        # в tls.Config разрешает использовать только допустимый список CipherSuites
        # запрещает проставлять InsecureSkipVerify: true (легко обмануть если присвоить значение после создания конфига)
        # запрещает использовать устаревшие версии TLS, доступны только tls.VersionTLS12, tls.VersionTLS13
        - G402 # Look for bad TLS connection settings

        # Запрещает вызов функции crypto/rsa.GenerateKey(rand.Reader, bits) где bits < 2048
        - G403 # Ensure minimum RSA key length of 2048 bits

        # Запрещает использование функций math/rand и math/rand/v2
        # Данные пакеты являются криптографически небезопасными
        # Проще запретить импорт подобных пакетов и делегировать настройку данного правила depguard
        # Выключаем
        # - G404 # Insecure random number source (rand)

        # Алгоритмы des или rc4 являются небезопасными
        # Выключен по причине добавления этих пакетов в черный лист
        # Данный подход позволит избежать смысловых дублей при использовании линтера
        # Выключаем
        # - G405 # Detect the usage of DES or RC4

        # Алгоритмы md4 или ripemd160 являются небезопасными
        # Выключен по причине добавления этих пакетов в черный лист
        # Данный подход позволит избежать смысловых дублей при использовании линтера
        # Выключаем
        # - G406 # Detect the usage of MD4 or RIPEMD160

        # Управление import blocklist делегировано depguard
        # Выключаем
        # - G501 # Import blocklist: crypto/md5
        # - G502 # Import blocklist: crypto/des
        # - G503 # Import blocklist: crypto/rc4

        # данный пакет считается устаревшив
        # - G504 # Import blocklist: net/http/cgi

        # - G505 # Import blocklist: crypto/sha1
        # - G506 # Import blocklist: golang.org/x/crypto/md4
        # - G507 # Import blocklist: golang.org/x/crypto/ripemd160

        # проверка на указатель от переменной в for range slice
        # исправлено в go 1.22
        # - G601 # Implicit memory aliasing of items from a range statement

        # в доке это правило есть
        # однако в исходном коде актуального на данный момент gosec (github.com/securego/gosec/v2 v2.22.10) не указано
        # Выключаем
        # - G602 # Slice access out of bounds
    govet:
      # Disable all analyzers.
      # Default: false
      disable-all: true
      # Enable analyzers by name.
      # (In addition to default:
      #   appends, asmdecl, assign, atomic, bools, buildtag, cgocall, composites, copylocks, defers, directive, errorsas,
      #   framepointer, httpresponse, ifaceassert, loopclosure, lostcancel, nilfunc, printf, shift, sigchanyzer, slog,
      #   stdmethods, stringintconv, structtag, testinggoroutine, tests, timeformat, unmarshal, unreachable, unsafeptr,
      #   unusedresult
      # ).
      # Run `GL_DEBUG=govet golangci-lint run --enable=govet` to see default, all available analyzers, and enabled analyzers.
      # Default: []
      enable:
        # Check for missing values after append.
        # Сообщает об append в который передан всего один аргумент
        # a := append(a)
        # gocritic.badCall выполняет ту же функцию
        # Выключаем
        # - appends

        # Report mismatches between assembly files and Go declarations.
        # У меня не получилось вопсроизвести предложенный пример от DeepSeek
        # Если приходится работать с интеграцией assembly и go то определенно ваш выбор
        # Валидирует assembly код
        # ассемблер
        - asmdecl

        # Check for useless assignments.
        # Проверяет результаты переменных которые присваиваются сами себе
        # a := 1
        # a = a // поругается на такое
        # Существует несколько подлинтеров и линтеров которые валидируют такое поведение и даже больше
        # - assign

        # Check for common mistakes using the sync/atomic package.
        # Проверяет работу с atomic структурами
        # Нельзя допускать копирования по значению
        # Аналогов нет
        - atomic

        # Check for non-64-bits-aligned arguments to sync/atomic functions.
        # Если вы работаете на 64 битной архитектуре линтер не будет работать
        # В интернет ресурсах удалось найти примеры где на невыравненных структурах
        # при использовании atomic.AddInt32(ptr, value) могли возникать проблемы
        # Выключаем
        # - atomicalign

        # Check for common mistakes involving boolean operators.
        # Сообщает об ошибках с булевыми операторами
        # if (a && b) || (a && b) { // Дублирование
        - bools

        # Check //go:build and // +build directives.
        # Проверяет правила build tags (go:build linux)
        # Не смог воспроизвести внятного примера
        # go fmt автоматически переводит на новый стиль и исправляет ошибки
        # тем не менее оставим, пусть будет
        - buildtag

        # Detect some violations of the cgo pointer passing rules.
        # Проверяет передачу ссылочных типов в cgo как указателей через unsafe.Pointer(&v)
        # h := make(chan int)
        # C.foo(unsafe.Pointer(&ch))
        - cgocall

        # Check for unkeyed composite literals.
        # type MyStruct {Integer int}
        # _ = MyStruct{1} // сообщит об нарушении если структура импортирована из внешнего пакета
        # _ = MyStruct{Integer: 1}
        # правильно, в случае если у структуры одно поле
        # мы может просто передать тип в структуру, что может привести к нежелательному поведению
        # в случае изменения полей структуры, данный линтер принуждает всегда использовать синтаксис
        # присвоения полей по ключу
        - composites

        # Check for locks erroneously passed by value.
        # Запрещает копирование различных структур связанные с блокировками
        # самый простой пример это передача sync.Mutex по значению
        # что приводит к копированию и все действия с mutex не имеют смысла
        # и могут привести к panic при работе приложения
        - copylocks

        # Check for calls of reflect.DeepEqual on error values.
        # Запрещает передачу двух ошибок в reflect.DeepEqual
        # Сообщает лишь о случаях когда оба аргумента имеют тип error
        # reflect.DeepEqual(error, int) считается валидным в рамках этого линтера
        - deepequalerrors

        # Report common mistakes in defer statements.
        # Сообщает о возможных ошибках в использовании defer
        # В исходниках golangci-lint обрабатывается только случай с time.Since
        # defer func(time.Duration) {}(time.Since(time.Now()))
        # Дело в том что при вызове defer аргументы вычисляются в момент появления defer функции
        # таким образом time.Since(time.Now()) будет вызвано немедленно не дожидаясь конца функции
        - defers

        # Check Go toolchain directives such as //go:debug.
        # Проверяет go:debug директиву
        # Например что коментарий //go:debug должен идти до объявления package <package name>
        - directive

        # Report passing non-pointer or non-error values to errors.As.
        # Проверяет что при вызове errors.As, второй аргумент является
        # указателем на тип имплементирующий error
        # errors.As(error(nil), error(nil)) // второй аргумент является типом error
        # errors.As(error(nil), (*error)(nil)) // нельзя чтобы второй аргумент был *error
        # errors.As(error(nil), any(nil)) // тип any разрешен
        #
        # err := errorType{} // func(errorType) Error() string
        # errors.As(error(nil), err)  // запрещено так как errorType имплементирует error, нужен указатель на него
        # errors.As(error(nil), &err) // разрешено так как errorType сам по себе имплементирует тип error
        - errorsas

        # Find structs that would use less memory if their fields were sorted.
        # Проверяет наличие структур размер которых можно оптимизировать поменяв поля местами
        # type notAligned struct {
        # 	b  bool
        # 	b1 bool
        # 	i  int64
        # 	j  int32
        # } размер равен 24, выравнено по 8 байт, b и b1 занимают 8 байт, i занимает 8 байт, j занимает 8 байт
        #
        # type notAligned struct {
        # 	i  int64
        # 	j  int32
        # 	b  bool
        # 	b1 bool
        # } размер равен 16, выравнено по 8 байт но теперь j, b и b1 вместе взятые занимают 8 байт + i которая всё ещё занимает 8 байт
        - fieldalignment

        # Find calls to a particular function.
        # Всё что он делает это находит вызовы отдельных функций
        # Бесполезен
        # Выключаем
        # - findcall

        # Report assembly that clobbers the frame pointer before saving it.
        # Валидирует assembly код
        # ассемблер
        - framepointer

        # Check format of addresses passed to net.Dial.
        #
        # _, _ = net.Dial("tcp", fmt.Sprintf("%s:%d", "host", 1)) // неправильно
        # _, _ = net.Dial("tcp", net.JoinHostPort("host", "1")) // правильно
        - hostport

        # Report using Go 1.22 enhanced ServeMux patterns in older Go versions.
        # В go 1.22 был добавлен роутинг по методам http.Handle
        # http.Handle("GET /my/method", nil)
        # работает только для версий go 1.21 и ниже
        # проверяет на наличие подобных паттернов, поддержка которых на данных версиях отсутствует
        # для go 1.22+ отключен
        - httpmux

        # Check for mistakes using HTTP responses.
        # resp, err := http.Get("aboba")
        # defer resp.Body.Close() // вызов defer до проверки на ошибку
        # приведет к panic в случае если запрос завершился с ошибкой
        # staticcheck.SA5001 выполняет ту же самую функцию
        # SA5001 помимо покрытия основного кейса так же проверяет все подобные
        # Выключаем
        # - httpresponse

        # Detect impossible interface-to-interface type assertions.
        # Обнаруживает type assertionы которые невозможны
        # если у интерфейса в его методах есть метод Read()
        # то такой интерфейс никак не может имплементировать io.Reader
        # потому что конфликт имет
        # io.Reader Read([]byte) (int, error)
        # myInterface Read()
        # _, _ = myInterface(nil).(io.Reader)
        # staticcheck.SA5010 выполняет ту же функцию, но его (staticcheck) сообщение выглядит более информатино
        # Выключаем
        # - ifaceassert

        # Check references to loop variables from within nested functions.
        # Ранее под переменную в цикле выделялось одно значение
        # указатель на такую переменную мог привести к нежелательному поведению
        # Для go 1.22+ отключен
        - loopclosure

        # Check cancel func returned by context.WithCancel is called.
        # Проверяет вызов cancel() для ctx, cance := context.WithCancel(parentCtx)
        # ctx, _ := context.WithCancel(context.Background()) // значение cancel проигнорировано
        # ctx, cancel := context.WithCancel(context.Background())
        # defer cancel() // по выходу из функции cancel гарантированно будет вызван, одобрено
        - lostcancel

        # Check for useless comparisons between functions and nil.
        # Проверка на то что статичная функция == nil всегда false
        # staticcheck.SA4031 выполняет ту же функцию
        # func foo() {}
        # if foo == nil // всегда false
        # Выключаем
        # - nilfunc

        # Check for redundant or impossible nil comparisons.
        # Распространенные ошибки при работе с nil
        # if x == nil && x.y == 1 {} // x уже nil, дальнейшие обращения могут привести к ошибке
        # достаточно много различных кейсов в том числе известные на этапе компиляции
        # например обращение к пустой мапе до инициализации
        # var storage map[int]int
        # storage[0] = 0
        # Полезно
        - nilness

        # Check consistency of Printf format strings and arguments.
        # Проверяет Printf передачу переменных
        # log.Printf("%s", 1) // %s предназначена для строк, а не для чисел
        # log.Printf("%d", 1) // всё верно
        - printf

        # Check for comparing reflect.Value values with == or reflect.DeepEqual.
        # Запрещает делать != == с типом reflect.Value (отдельно с reflect.Value{} допустимо)
        # Запрещает передавать reflect.Value в reflect.DeepEqual (отдельно с reflect.Value{} допустимо)
        # reflect.DeepEqual(reflect.ValueOf(1), reflect.ValueOf(1)) // запрещено
        # reflect.DeepEqual(a, reflect.ValueOf(1))  // запрещено
        # reflect.DeepEqual(a, reflect.DeepEqual{}) // разрешено
        # Сравнивает значения внутри reflect.Value{} но не их содержимое
        # Везде указывается reflect.ValueOf(a).Interface() как безопасный способ сравнения
        # ОДНАКО
        # Здесь есть проблема сравнения 2 any
        # var a, b any = []int{}, []int{}
        # _ = a == b // вызовет панику
        # Сомнительный
        - reflectvaluecompare

        # Check for possible unintended shadowing of variables.
        # Сообщаят о случаях когда одна переменная затеняет другую
        # что может приводить к неожиданному поведению
        # n := 0
        # if true {
        # 	n := 1 // Затеняет переменную 'n' из внешнего блока
        # 	n++
        # }
        # fmt.Println(n) // Выведет 0, а не 2
        - shadow

        # Check for shifts that equal or exceed the width of the integer.
        # Проверяет распространённые ошибки при использовании сдвигов <<
        # _ = x << 31 // если x принадлежит к типу int16 и ниже сообщит о нарушении
        # staticcheck.SA9006 выполняет ту же функцию
        # однако покрывает больше случаев, например
        # _ = int16(0) << 31 // staticcheck сообщит об ошибке, а shift промолчит
        # Выключаем
        # - shift

        # Check for unbuffered channel of os.Signal.
        # Проверяет что при вызове signal.Notify в него передаётся буферизированный канал
        # Отправитель не будет дожидаться пока получатель обработает входящий сигнал
        # select {
        #   case signalCh <- signal:
        #   default: // в случае если канал будет не буферизированный сигнал не будет отправлен
        # }
        # staticcheck.SA1017 выполняет ту же самую функцию
        - sigchanyzer

        # Check for invalid structured logging calls.
        # Проверяет вызовы slog и slog.Logger
        # slog.Info("msg", "value") // "value" не имеет ключа ОШИБКА
        # loggercheck выполняет ту же самую функцию, однако поддерживает несколько логгеров
        # и кастомные правила для проверки
        # - slog

        # Check the argument type of sort.Slice.
        # проверяет что первый аргумент sort.Slice является слайсом
        # staticcheck.SA1028 выполняет ту же функцию
        # выбор сделан в пользу govet так как название правила именованное
        - sortslice

        # Check signature of methods of well-known interfaces.
        # Проверяет сигнатуры методов популярных интерфейсов
        # func (myMarshaler) MarshalJSON() {} // подскажет имплементацию json.Marshaler
        # имеет некоторый пул "популярных" интерфейсов стандартной библиотеки
        - stdmethods

        # Report uses of too-new standard library symbols.
        # Сообщает о методах стандартной библиотеки которые добавлены
        # в версиях старше нежели используемая в текущем модуле
        # slices.Max() // добавлен в версии go 1.21
        - stdversion

        # Check for string(int) conversions.
        # Прямая конвертация из чисел в string может привести к неожиданному поведению
        # println(string(61)) // выведет '='
        - stringintconv

        # Check that struct field tags conform to reflect.StructTag.Get.
        # 	_ = struct {
        # 	Key string `json:` // ОШИБКА, невалидный синтаксис для тега
        # }{}
        # tagalign выполняет ту же самую функцию, но имеет опции для дополнительной настройки
        # Выключаем
        # - structtag

        # Report calls to (*testing.T).Fatal from goroutines started by a test.
        # go func() {
        # 	t.Fatal() // вызов t.Fatal не из тестовой горутины
        # }()
        #
        # конкурентный/параллельный вызов t.Fatal функций может привести к нежелаемому поведению
        # По скольку t.Fatal под капотом вызывает t.FailNow
        # которая в свою очередь вызывает runtime.Goexit
        # её вызов не из тестовой горутины не приведет к остановке теста
        - testinggoroutine

        # Check for common mistaken usages of tests and examples.
        # нестрогие правила наименования Test, Example, Bench
        # Testhello(*testing.T) // после слова Test не должен идти lowercase символ
        # Test_hello(*testing.T) // OK
        # TestHello(*testing.T) //  OK
        - tests

        # Check for calls of (time.Time).Format or time.Parse with 2006-02-01.
        # Проверяет функции (time.Time).Format или time.Parse на наличие в ней строки 2006-02-01
        # В таком случае при выводе подобной строки месяц поменяется местами с днем
        # В оригинальных константах указан следующий формат: 2006-01-02
        # today 2001-09-11 // верный формат
        # today 2001-11-09 // измененные между собой месяц и день
        - timeformat

        # Report passing non-pointer or non-interface values to unmarshal.
        # _ = json.Unmarshal([]byte{'1'}, 0) // вторым аргументом ожидаем указатель
        # staticcheck.SA1014 выполняет ту же самую функцию
        # выбор сделан в сторону govet из-за именованого названия линтера
        - unmarshal

        # Check for unreachable code.
        # Помечает недосягаемый код
        # return
        # _ = 0 // код недосягаем
        # panic("error")
        # _ = 0 // код недосягаем
        - unreachable

        # Check for invalid conversions of uintptr to unsafe.Pointer.
        # Проверяет возможные случаи некорректной конвертации uintptr в unsafe.Pointer (и не только)
        # _ = unsafe.Pointer(uintptr(0)) // возможная некорректная конвертация
        # _ = unsafe.Pointer(&reflect.SliceHeader{}) // возможна некорректная конвертация
        # дело в том что unsafe.Pointer должен указывать на конкретные места в памяти
        # некорректная конвертация и получения экземпляра unsafe.Pointer
        # могут привести к ошибкам при работе с памятью
        - unsafeptr

        # Check for unused results of calls to some functions.
        # Сообщает об неиспользуемом результате ряда функций стандартной библиотеки
        # вызов таких функций не приводит к изменениям и их вызов может быть убран
        # в случае если значение не используется
        # fmt.Sprint(1) // значение не используется
        # _ = fmt.Sprint(1) // OK, мы присваиваем значение (используем)
        # staticcheck.SA4017 выполняет ту же фукцию
        # выбор сделан в сторону govet из-за именованого названия линтера
        - unusedresult

        # Checks for unused writes.
        # Проверяет ряд случаев когда операция записи значения не используется
        # на удивление не конфликтует с wastedassign и ineffassign
        # t := struct{ x, y int }{}
        # t.x = 0 // unusedwrite, далее это значение нигде не используется, присвоение бессмыслено
        - unusedwrite

        # Check for misuses of sync.WaitGroup.
        # Проверяет вызовы (*sync.WaitGroup).Add из новой горутины
        # wg := sync.WaitGroup{}
        # go func() {
        # 	wg.Add(10)
        # }()
        # Не учитывает новое api введённое в go 1.25 (*sync.WaitGroup).Go(func(){})
        # Может привести к неожиданному поведению, создать гонку данных
        # staticcheck.SA2000 выполняет ту же функцию
        # выбор сделан в сторону govet из-за именованого названия линтера
        - waitgroup

    # Для каждого блока есть два правила
    # 1. Разрешает использовать глобальные декларации import, var, const, type только со скобками
    # 2. Запрещаем иметь подобную декларацию больше чем одну на весь файл
    grouper:
      # Require the use of a single global 'const' declaration only.
      # Default: false
      const-require-single-const: true
      # Require the use of grouped global 'const' declarations.
      # Default: false
      const-require-grouping: true

      # Require the use of a single 'import' declaration only.
      # Default: false
      import-require-single-import: true
      # Require the use of grouped 'import' declarations.
      # Default: false
      import-require-grouping: true

      # Require the use of a single global 'type' declaration only.
      # Default: false
      type-require-single-type: true
      # Require the use of grouped global 'type' declarations.
      # Default: false
      type-require-grouping: true

      # Require the use of a single global 'var' declaration only.
      # Default: false
      var-require-single-var: true
      # Require the use of grouped global 'var' declarations.
      # Default: false
      var-require-grouping: true

    iface:
      # List of analyzers.
      # Default: ["identical"]
      enable:
        # Включено по умолчанию, проверяем идентичные сингнатуры методов и набор этих методов
        # среди интерфейсов одного пакета
        - identical # Identifies interfaces in the same package that have identical method sets.

        # сообщает о том что интерфейс нигде не используется
        # unused выполняет ту же самую фукнцию
        # Выключаем
        # - unused # Identifies interfaces that are not used anywhere in the same package where the interface is defined.

        # Обнаруживает функции которые возвращают интерфейс
        # при этом фактически они возвращают одну и ту же имплементацию
        # Много false positive
        # Выключаем
        # - opaque # Identifies functions that return interfaces, but the actual returned value is always a single concrete implementation.

        # Запрещает выставлять наружу неэкспортируемые интерфейсы
        # func NewInterface() myInterface // myInterface приватен, однако выставляется наружу публичной функцией
        - unexported # Identifies interfaces that are not exported but are used in exported functions or methods.

      # settings:
      #   unused:
      #     exclude: []

    importas:
      # Do not allow unaliased imports of aliased packages.
      # Default: false
      no-unaliased: false
      # Do not allow non-required aliases.
      # Default: false
      no-extra-aliases: false
      # List of aliases
      # Default: []
      alias: []
        # # Using `servingv1` alias for `knative.dev/serving/pkg/apis/serving/v1` package.
        # - pkg: knative.dev/serving/pkg/apis/serving/v1
        #   alias: servingv1
        # # Using `autoscalingv1alpha1` alias for `knative.dev/serving/pkg/apis/autoscaling/v1alpha1` package.
        # - pkg: knative.dev/serving/pkg/apis/autoscaling/v1alpha1
        #   alias: autoscalingv1alpha1
        # # You can specify the package path by regular expression,
        # # and alias by regular expression expansion syntax like below.
        # # See https://github.com/julz/importas#use-regular-expression for details.
        # - pkg: knative.dev/serving/pkg/apis/(\w+)/(v[\w\d]+)
        #   alias: $1$2
        # # An explicit empty alias can be used to ensure no aliases are used for a package.
        # # This can be useful if `no-extra-aliases: true` doesn't fit your need.
        # # Multiple packages can use an empty alias.
        # - pkg: errors
        #   alias: ""

    ireturn:
      # List of interfaces to allow.
      # Lists of the keywords and regular expressions matched to interface or package names can be used.
      # `allow` and `reject` settings cannot be used at the same time.
      #
      # Keywords:
      # - `empty` for `interface{}`
      # - `error` for errors
      # - `stdlib` for standard library
      # - `anon` for anonymous interfaces
      # - `generic` for generic interfaces added in go 1.18
      #
      # Default: [anon, error, empty, stdlib]
      allow:
        # func NewAnon() interface{ Anon() } { return nil }
        - anon

        # func NewError() error              { return nil }
        - error

        # func NewInterface() interface{}    { return nil }
        # func NewAny() any                  { return nil }
        - empty

        # func NewReader() io.Reader         { return nil }
        - stdlib

        # You can specify idiomatic endings for interface
        # - (or|er)$

      # List of interfaces to reject.
      # Lists of the keywords and regular expressions matched to interface or package names can be used.
      # `allow` and `reject` settings cannot be used at the same time.
      #
      # Keywords:
      # - `empty` for `interface{}`
      # - `error` for errors
      # - `stdlib` for standard library
      # - `anon` for anonymous interfaces
      # - `generic` for generic interfaces added in go 1.18
      #
      # Default: []
      # reject:
      # - github.com\/user\/package\/v4\.Type

    lll:
      # Max line length, lines longer will be reported.
      # '\t' is counted as 1 character by default, and can be changed with the tab-width option.
      # Default: 120.
      line-length: 120
      # Tab width in spaces.
      # Default: 1
      # Табы считаются от начала строки включительно
      tab-width: 4

    loggercheck:
      # Allow check for the github.com/go-kit/log library.
      # Default: true
      kitlog: true
      # Allow check for the k8s.io/klog/v2 library.
      # Default: true
      klog: true
      # Allow check for the github.com/go-logr/logr library.
      # Default: true
      logr: true
      # Allow check for the log/slog library.
      # Default: true
      slog: true
      # Allow check for the "sugar logger" from go.uber.org/zap library.
      # Default: true
      zap: true
      # Require all logging keys to be inlined constant strings.
      # Default: false
      # Обязывает использовать строку как ключ
      require-string-key: true
      # Require printf-like format specifier (%s, %d for example) not present.
      # Default: false
      # Запрещает использовать printf pattern в функциях логирования
      no-printf-like: true

      # List of custom rules to check against, where each rule is a single logger pattern, useful for wrapped loggers.
      # For example: https://github.com/timonwong/loggercheck/blob/7395ab86595781e33f7afba27ad7b55e6956ebcd/testdata/custom-rules.txt
      # Default: empty
      rules:
        - k8s.io/klog/v2.InfoS # package level exported functions
        - (github.com/go-logr/logr.Logger).Error # "Methods"
        - (*go.uber.org/zap.SugaredLogger).With # Also "Methods", but with a pointer receiver

    misspell:
      # Correct spellings using locale preferences for US or UK.
      # Setting locale to US will correct the British spelling of 'colour' to 'color'.
      # Default is to use a neutral variety of English.
      locale: US
      # Typos to ignore.
      # Should be in lower case.
      # Default: []
      ignore-rules: []
      # Extra word corrections.
      # `typo` and `correction` should only contain letters.
      # The words are case-insensitive.
      # Default: []
      extra-words:
        - typo: "iff"
          correction: "if"
        - typo: "cancelation"
          correction: "cancellation"
      # Mode of the analysis:
      # - default: checks all the file content.
      # - restricted: checks only comments.
      # Default: ""
      mode: restricted

    mnd:
      # List of enabled checks, see https://github.com/tommy-muehle/go-mnd/#checks for description.
      # Default: ["argument", "case", "condition", "operation", "return", "assign"]
      checks:
        # Аргументы фукнций
        # t := http.StatusText(200)
        - argument

        # Присвоения переменных
        # c := &http.Client{
        #     Timeout: 5 * time.Second,
        # }
        - assign

        # switch case
        # switch x {
        #     case 3:
        # }
        - case

        # Условия
        # if x > 7 {}
        - condition

        # Базовые математические операции
        # var x, y int
        # y = 10 * x
        - operation

        # Возвращения значений из функций
        # return 3
        - return

      # List of numbers to exclude from analysis.
      # The numbers should be written as string.
      # Values always ignored: "1", "1.0", "0" and "0.0".
      # Default: []
      ignored-numbers: []
        # Разрешения файлов
        # - "0o600"
        # смысл всего не может быть левым числом
        # - "42"
      # List of file patterns to exclude from analysis.
      # Values always ignored: `.+_test.go`.
      # Default: []
      ignored-files:
        - 'magic1_.+\.go$'
      # List of function patterns to exclude from analysis.
      # Following functions are always ignored: `time.Date`,
      # `strconv.FormatInt`, `strconv.FormatUint`, `strconv.FormatFloat`,
      # `strconv.ParseInt`, `strconv.ParseUint`, `strconv.ParseFloat`.
      # Default: []
      ignored-functions:
        - '^math\.'
        - '^http\.StatusText$'

    modernize:
      # List of analyzers to disable.
      # By default, all analyzers are enabled.
      disable:
        # Replace interface{} with any.
        # Банит interface{} в вашем проекте
        # - any

        # Replace for-range over b.N with b.Loop.
        # Если находится вне функции Benchmark(b *testing.B) не будет срабатывать
        # Что очень странно, встроенных gopls отрабатывает штатно на все случаи
        # - bloop

        # Replace []byte(fmt.Sprintf) with fmt.Appendf.
        # До
        # _ = []byte(fmt.Sprintf("My digit: %d", 1))
        # После
        # _ = fmt.Appendf(make([]byte, 0), "My digit: %d", 1)
        # - fmtappendf

        # Remove redundant re-declaration of loop variables.
        # for i := range 100 {
        #    i := i // после 1.22 не имеет смысла
        # }
        # Начиная с go 1.22 под каждую i перменную выделяется место на стеке
        # - forvar

        # Replace explicit loops over maps with calls to maps package.
        # Содержит ряд случаев которые должны быть заменены на функции пакета maps
        # for key, value := range storage {
        # 	dest[key] = value // должно быть заменено на maps.Copy(dest, storage)
        # }
        # for i, v := range newIter() {
        # 	storage[i] = v // должно быть заменено на storage := maps.Collect(slices.Backward(digits))
        # }
        # - mapsloop

        # Replace if/else statements with calls to min or max.
        # Отслеживает случаи if else которые можно заменить на встроенные функции min max
        # Если вы напишите свою реализацию min, max ругаться не будет, а должен
        # if a < b { можно заменить на x := min(a, b)
        #   x = a
        # } else {
        # 	x = b
        # }
        #
        #
        # if x < y { // не поругается
        # 	return x
        # }
        #
        # return y
        # - minmax

        # Simplify code by using go1.26's new(expr).
        # Начиная с go 1.26 мы можем получать указатель
        # на переменную в одну строчку передавая её как аргумент встроенной
        # функции new() в которую ранее можно было лишь передать тип (как generic)
        # До 1.26 нам приходилось писать свои функции
        # func varOf(x int) *int { return &x }
        # Теперь мы просто используем new
        # ptrToInt := new(x)
        # - newexpr

        # Suggest replacing omitempty with omitzero for struct fields.
        # До
        # Me Me `json:"me,omitempty"`
        # После
        # Me Me `json:"me,omitzero"`
        # omitzero опустит поле при нулевом значении поля, omitempty работает с указателями
        # - omitzero

        # Replace 3-clause for loops with for-range over integers.
        # for i := 0; i < 1100; i++ {} // старый синтаксис, неправильно
        # for i := range 1100 // новой синтаксис, идиоматично
        # - rangeint

        # Replace reflect.TypeOf(x) with TypeFor[T]().
        # До
        # Необходимо добавлять переменную которая нам не нужна
        # intType := reflect.TypeOf(int(0))
        # После
        # Избавляет нас от заботы создавать переменные для получения типа
        # intType := reflect.TypeFor[int]()
        # - reflecttypefor

        # Replace loops with slices.Contains or slices.ContainsFunc.
        # До
        #
        # for _, digit := range digits {
        # 	if digit == i {
        # 		return true
        # 	}
        # }
        #
        # return false
        #
        # После
        # return slices.Contains(digits, i)
        # - slicescontains

        # Replace sort.Slice with slices.Sort for basic types.
        # words := make([]string, 0)
        # До
        # sort.Slice(words, func(i, j int) bool { return words[i] < words[j] })
        # После
        # slices.Sort(words)
        #
        # На следующий пример не реагирует
        # sort.Slice(words, cmp.Less) // НЕ БУДЕТ сообщения перейти на slices.Sort
        # - slicessort

        # Use iterators instead of Len/At-style APIs.
        # В пакете types есть ряд структур у которых
        # после обновления go 1.23 появились методы
        # возвращающие итераторы, и теперь это более идиометичный
        # способ итерации по ним
        # x := types.TypeList{}
        #
        # До
        # for i := 0; i < x.Len(); i++ {
        # 	_ = x.At(i)
        # }
        #
        # После
        #
        # x.Types() возвращает итератор
        # что позволяет избежать дополнительного вызова At(index)
        # for elem := range x.Types() {
        # 	_ = elem
        # }
        # - stditerators

        # Replace HasPrefix/TrimPrefix with CutPrefix.
        # До
        # if strings.HasPrefix(name, "2004 ") {
        # 	name = strings.TrimPrefix(name, "2004 ")
        # }
        #
        # После
        # if after, ok := strings.CutPrefix(s, prefix); ok {
        #   name = after
        # }
        # - stringscutprefix

        # Replace ranging over Split/Fields with SplitSeq/FieldsSeq.
        #
        # До
        # for range strings.Split(name, " ")
        # После
        # for range strings.SplitSeq(name, " ")
        #
        # Тоже самое и для Fields и FieldsSeq
        #
        # Так мы не аллоцируем новый список, а итерируемся по исходной строке
        # - stringsseq

        # Replace += with strings.Builder.
        # В случае повторяющихся конкатенаций предлагает заменить
        # строку на strings.Builder
        # Работает только на циклы
        #
        # До
        #	for _, ch := range stringslice {
        # 	name += "char"
        # }
        #
        # После
        # for _, ch := range stringslice {
        #   name.WriteString(ch)
        # }
        #
        # perfsprint.concat-loop выполняет ту же самую фукнцию
        # Однако функционал гораздо шире и работает на любые циклы и даже операции
        #
        - stringsbuilder

        # Replace context.WithCancel with t.Context in tests.
        # Начиная с версии go 1.24 у нас появился метод t.Context()
        #
        # До
        #	ctx, cancel := context.WithCancel(context.Background())
        # После
        # ctx := t.Context()
        #
        # Не работает если функция cancel() используется хоть как-то
        # кроме defer cancel()
        # даже _ = cancel отключит проверку
        # t.Cleanup(cancel) вместо defer тоже не будет отловлено
        # - testingcontext

        # Replace wg.Add(1)/go/wg.Done() with wg.Go.
        # Меняет устаревший шаблон работы с sync.WaitGroup
        # на более лаконичный и безопасный
        # под капотом wg.Go() делает то же самое что
        # и wg.Add(1) go func() { defer wg.Done() }
        # До
        #
        #	for range 100 {
        # 	wg.Add(1)
        #
        # 	go func() {
        # 		defer wg.Done()
        #
        # 	}()
        # }
        #
        # После
        #
        #	for range 100 {
        # 	wg.Go(func() {})
        # }
        # - waitgroup

    musttag:
      # A set of custom functions to check in addition to the builtin ones.
      # Default: json, xml, gopkg.in/yaml.v3, BurntSushi/toml, mitchellh/mapstructure, jmoiron/sqlx
      functions:
        # The full name of the function, including the package.
        - name: github.com/hashicorp/hcl/v2/hclsimple.DecodeFile
          # The struct tag whose presence should be ensured.
          tag: hcl
          # The position of the argument to check.
          arg-pos: 2

    nilnil:
      # To check functions with only two return values (`return nil, nil`).
      # If disabled then returns like `return nil, nil, ..., nil` are supported.
      # Default: true
      # Для работы с несколькими аргументами
      # Если включено то в случае если хотя бы один аргумент nil
      only-two: false

      # In addition, detect opposite situation (simultaneous return of non-nil error and valid value).
      # E.g, `return clone, fh.indexer.Update(clone)` will be considered as invalid.
      # Default: false
      # Обнаруживает обратные ситуации, когда мы возвращает not nil значение с ошибкой
      detect-opposite: true
      # List of return types to check.
      # Default: ["chan", "func", "iface", "map", "ptr", "uintptr", "unsafeptr"]

      checked-types:
        - chan
        - func
        - iface
        - map
        - ptr
        - uintptr
        - unsafeptr

    nolintlint:
      # Disable to ensure that all nolint directives actually have an effect.
      # Если линтер и так не срабатывает то выключаем его
      # Default: false
      allow-unused: false
      # Exclude following linters from requiring an explanation.
      # Позволяет опускать объяснение для некоторых линтеров
      # Default: []
      allow-no-explanation: []

      # Enable to require an explanation of nonzero length after each nolint directive.
      # Обязывает объяснять рядом в комментарии почему этот линтер выключен
      #
      # //nolint // Пусть будет
      # func myUnusedFunc() {}
      #
      # Default: false
      require-explanation: true

      # Enable to require nolint directives to mention the specific linter being suppressed.
      # Обязывает указывать линтеры которые необходимо выключить в nolint директиве
      # //nolint // Вызовет ошибку по причине отсутствия конкретных линтеров
      # func myUnusedFunc() {}
      # Default: false
      require-specific: true

    perfsprint:
      # Enable/disable optimization of integer formatting.
      # До
      # _ = fmt.Sprint(1)
      # После
      # _ = strconv.Itoa(1)
      # Default: true
      integer-format: true

      # Optimizes even if it requires an int or uint type cast.
      # Расширяет предыдущий базовыми числовыми типами (u)int8, (u)int16, (u)int32
      # Именно расширяет, если предыдущий выключен то этот линтер не будет работать
      # Default: true
      int-conversion: true

      # Enable/disable optimization of error formatting.
      # Является переключателем для линтеров err-error и errorf
      # Без него линтеры работать не будут
      # Default: true
      error-format: true

      # Optimizes into `err.Error()` even if it is only equivalent for non-nil errors.
      # Сообщает о возможных упрощениях fmt.Sprint(io.ErrUnexpectedEOF) до io.ErrUnexpectedEOF.Error()
      # Default: false
      err-error: false

      # Optimizes `fmt.Errorf`.
      # Default: true
      # Указывает на замену fmt.Errorf("error message") на errors.New("error message")
      # revive.use-errors-new и unnecessary-format выполняют ту же самую фукнцию
      # Выключаем
      errorf: false

      # Enable/disable optimization of string formatting.
      # Является переключателем для линтеров sprint1 и strconcat
      # Без него линтеры работать не будут
      # До
      # _ = fmt.Sprint("format")
      # После
      # _ = "format"
      # Отчасти линтер gocritic.redundantSprint выполняет ту же самую фукнцию
      # Однако распространяется и на fmt.Stringer
      # Выключаем так как ни один из линтеров строк нам не нужен
      # И функционал данных линтеров может быть замещен более
      # фукнциональными альтернативами
      # Default: true
      string-format: true

      # Optimizes `fmt.Sprintf` with only one argument.
      # До
      # _ = fmt.Sprintf("format") // один аргумент в качестве формата
      # После
      # _ = "format"
      # revive.unnecessary-format выполняет ту же самую функцию
      # Выключаем
      # Default: true
      sprintf1: false

      # Optimizes into strings concatenation.
      # Оптимизирует случаи когда строка формат заканчивается на  %s
      # До
      # _ = fmt.Sprintf("format %s", name)
      # После
      # _ = "format " + name
      #
      # Работает только если аргумент является строкой
      # На error, fmt.Striger не распространяется
      # Отчасти он полезен, однако
      # Я вынужден оставить включенным string-format
      # Хотя он дублирует функционал некоторых уже существующих линтеров
      # И этот линтер вынуждает нас конкатенировать строки
      # Хотя в дальнейшем нам опять может понадобится fmt.Sprintf
      # И нам опять придётся переписывать с конкатенации на форматирование
      # Default: true
      strconcat: false

      # Enable/disable optimization of bool formatting.
      # До
      # _ = fmt.Sprintf("%v", true)
      # _ = fmt.Sprintf("%t", true)
      # _ = fmt.Sprint(true)
      # После
      # _ = strconv.FormatBool(true)
      # Default: true
      bool-format: true

      # Enable/disable optimization of hex formatting.
      # До
      # _ = fmt.Sprintf("%x", make([]byte, 0))
      # После
      # _ = hex.EncodeToString(make([]byte, 0))
      # Default: true
      hex-format: true

      # Enable/disable optimization of concat loop.
      # До
      #	result := "string"
      # for range 100 {
      # 	result += "string"
      # }
      # После
      # result := new(strings.Builder)
      # result.WriteString("string")
      # for range 100 {
      #   result.WriteString("string")
      # }
      # Есть такое ощущение будто линтер специально создан
      # неполноценным чтобы добавить опций
      # как будто это платное DLC
      # ВСЕГДА если используете включайте loop-other-ops
      # Default: true
      concat-loop: true

      # Optimization of `concat-loop` even with other operations.
      # Улучшает линтер concat-loop расширяя набор обнаруживаемых случаев
      # s := "string"
      # for range 10 {
      # 	s += "y" // concat-loop это не обнаружит без данной опции
      # 	if len(s)%3 == 1 {
      # 		s += "," // concat-loop это не обнаружит без данной опции
      # 	}
      # }
      # Default: false
      loop-other-ops: true

    prealloc:
      # IMPORTANT: we don't recommend using this linter before doing performance profiling.
      # For most programs usage of prealloc will be a premature optimization.
      # Report pre-allocation suggestions only on simple loops that have no returns/breaks/continues/gotos in them.
      # Default: true
      simple: true

      # Report pre-allocation suggestions on range loops.
      # Default: true
      range-loops: true

      # Report pre-allocation suggestions on for loops.
      # Default: false
      for-loops: true

    predeclared:
      # List of predeclared identifiers to not report on.
      # Default: []
      ignore: []
      # Include method names and field names in checks.
      # Default: false
      qualified-name: true

    promlinter:
      # Promlinter cannot infer all metrics name in static analysis.
      # Enable strict mode will also include the errors caused by failing to parse the args.
      # Default: false
      strict: true

      # Please refer to https://github.com/yeya24/promlinter#usage for detailed usage.
      # Default: []
      disabled-linters: []
        # Help detects issues related to the help text for a metric.
        # Сообщает о случаях когда поле Help пропущено в ряде структур
        # До
        # _ = prometheus.NewCounterVec(
        #   prometheus.CounterOpts{
        #   	Name: "test_metric_name",
        #   },
        #   []string(nil),
        # )
        #
        # После
        # _ = prometheus.NewCounterVec(
        # 	prometheus.CounterOpts{
        # 		Name: "test_metric_name",
        # 		Help: "test metric help text",
        # 	},
        # 	[]string(nil),
        # )
        # - Help

        # MetricUnits detects issues with metric unit names.
        # Указывает на смысловые ошибки в именовании метрик
        # Работает c
        # milliseconds -> seconds
        # kilobytes -> bytes
        # И так далее
        # Если вы допустите орфографическую ошибку линтер не сработает
        # До
        # _ = prometheus.NewGauge(
        # 	prometheus.GaugeOpts{
        # 		Name: "http_request_duration_milliseconds", // указано в миллисекундах
        # 		Help: "http request duration in milliseconds",
        # 	},
        # )
        # После
        # _ = prometheus.NewGauge(
        # 	prometheus.GaugeOpts{
        # 		Name: "http_request_duration_seconds", // теперь все верно, должно быть указано в секундах
        # 		Help: "http request duration in seconds",
        # 	},
        # )
        # - MetricUnits

        # Counter detects issues specific to counters, as well as patterns that should only be used with counters.
        # Сообщает о типичных ошибках связанных с метриками-счетчиками
        # // ❌ Отсутствует суффикс _total
        # _ = prometheus.NewCounter(prometheus.CounterOpts{
        # 	Name: "http_requests",
        # 	Help: "Total number of HTTP requests",
        # })
        # // ❌ Неправильный тип для счетчика
        # _ = prometheus.NewGauge(prometheus.GaugeOpts{
        # 	Name: "login_attempts_total", // Имя подходит для счетчика, но тип - gauge
        # 	Help: "Total login attempts",
        # })
        # // ✅ Правильный вариант
        # _ = prometheus.NewCounter(prometheus.CounterOpts{
        # 	Name: "http_requests_total",
        # 	Help: "Total number of HTTP requests",
        # })
        # - Counter

        # HistogramSummaryReserved detects when other types of metrics use names or labels reserved for use by histograms and/or summaries.
        # Обнаруживает использование зарезервированных имен не-гистограммами/не-суммариями
        # // ❌ Гистограмма использует метку 'le' в не-гистограмме
        # _ = prometheus.NewCounterVec(prometheus.CounterOpts{
        # 	Name: "http_request_duration_seconds_total",
        # 	Help: "HTTP request duration",
        # }, []string{"le"}) // 'le' зарезервирована для гистограмм
        #
        # // ❌ Суммари использует метку 'quantile' в не-суммари
        # _ = prometheus.NewGaugeVec(prometheus.GaugeOpts{
        # 	Name: "response_time_seconds",
        # 	Help: "Response time",
        # }, []string{"quantile"}) // 'quantile' зарезервирована для суммарий
        #
        # // ✅ Правильный вариант
        # _ = prometheus.NewHistogramVec(prometheus.HistogramOpts{
        # 	Name: "http_request_duration_seconds",
        # 	Help: "HTTP request duration",
        # }, []string{"le"})
        #
        # _ = prometheus.NewGaugeVec(prometheus.GaugeOpts{
        # 	Name: "response_time_seconds",
        # 	Help: "Response time",
        # }, []string{"status"})
        # - HistogramSummaryReserved

        # MetricTypeInName detects when metric types are included in the metric name.
        # Сообщает о случаях когда тип метрики (counter, gauge) включено в название метрики
        # В случае допуска орфографических ошибок couner, gage не будет работать
        # // ❌ Тип метрики (counter) в имени
        # prometheus.NewCounter(prometheus.CounterOpts{
        # 	Name: "http_requests_counter_total",
        # 	Help: "HTTP requests",
        # })
        # // ❌ Тип метрики (gauge) в имени
        # prometheus.NewGauge(prometheus.GaugeOpts{
        # 	Name: "temperature_gauge_celsius",
        # 	Help: "Temperature",
        # })
        # // ✅ Правильный вариант
        # prometheus.NewCounter(prometheus.CounterOpts{
        # 	Name: "http_requests_total",
        # 	Help: "HTTP requests",
        # })
        #
        # prometheus.NewGauge(prometheus.GaugeOpts{
        # 	Name: "temperature_celsius",
        # 	Help: "Temperature",
        # })
        # - MetricTypeInName

        # ReservedChars detects colons in metric names.
        # Сообщает о двоеточии в имени метрик
        # // ❌ Двоеточие в имени
        # prometheus.NewCounter(prometheus.CounterOpts{
        # 	Name: "app:http_requests_total",
        # 	Help: "HTTP requests",
        # })
        #
        # // ✅ Правильный вариант
        # prometheus.NewCounter(prometheus.CounterOpts{
        # 	Name: "app_http_requests_total",
        # 	Help: "HTTP requests",
        # })
        # - ReservedChars

        # CamelCase detects metric names and label names written in camelCase.
        # Обнаруживает название метрик которое записано в формате camelCase
        #
        # // ❌ CamelCase в имени метрики
        # prometheus.NewCounter(prometheus.CounterOpts{
        # 	Name: "httpRequestsTotal_total",
        # 	Help: "HTTP requests",
        # })
        #
        # // ❌ CamelCase в метках
        # prometheus.NewCounterVec(prometheus.CounterOpts{
        # 	Name: "http_requests_total",
        # 	Help: "HTTP requests",
        # }, []string{"statusCode", "userAgent"})
        #
        # // ✅ Правильный вариант
        # prometheus.NewCounter(prometheus.CounterOpts{
        # 	Name: "http_requests_total",
        # 	Help: "HTTP requests",
        # })
        #
        # prometheus.NewCounterVec(prometheus.CounterOpts{
        # 	Name: "http_requests_total",
        # 	Help: "HTTP requests",
        # }, []string{"status_code", "user_agent"})
        # - CamelCase

        # UnitAbbreviations detects abbreviated units in the metric name.
        # Запрещает наличие аббревиатур в названиях метрик
        # Если у вас включено MetricUnits то это правило включено по умолчанию
        # Сильно пересекается с MetricUnits
        # // ❌ Сокращенные единицы
        # prometheus.NewGauge(prometheus.GaugeOpts{
        # 	Name: "response_time_ms",
        # 	Help: "Response time in milliseconds",
        # })
        #
        # // ❌ Нестандартные сокращения
        # prometheus.NewCounter(prometheus.CounterOpts{
        # 	Name: "data_transferred_mb_total",
        # 	Help: "Data transferred",
        # })
        #
        # // ✅ Правильный вариант
        # prometheus.NewGauge(prometheus.GaugeOpts{
        # 	Name: "response_time_seconds",
        # 	Help: "Response time in seconds",
        # })
        #
        # prometheus.NewCounter(prometheus.CounterOpts{
        # 	Name: "data_transferred_bytes_total",
        # 	Help: "Data transferred in bytes",
        # })
        # - UnitAbbreviations

    protogetter:
      # Skip files generated by specified generators from the checking.
      # Checks only the file's initial comment, which must follow the format: "// Code generated by <generator-name>".
      # Files generated by protoc-gen-go, protoc-gen-go-grpc, and protoc-gen-grpc-gateway are always excluded automatically.
      # Default: []
      skip-generated-by: []
      # Skip files matching the specified glob pattern from the checking.
      # Default: []
      skip-files:
        - "*.pb.go"
      # Skip any generated files from the checking.
      # Default: false
      skip-any-generated: true
      # Skip first argument of append function.
      # Default: false
      replace-first-arg-in-append: false

    recvcheck:
      # Disables the built-in method exclusions:
      # - `MarshalText`
      # - `MarshalJSON`
      # - `MarshalYAML`
      # - `MarshalXML`
      # - `MarshalBinary`
      # - `GobEncode`
      # Default: false
      #
      # Методы стандартной библиотеки которые исключаются из проверок
      #
      # type Human struct{}
      #
      # func (Human) Hello()                        {}
      # func (Human) Bye()                          {}
      #
      # по скольку метод MarshalJSON является исключением он не учитывается
      # и линтер не будет реагировать на подобный код
      # func (*Human) MarshalJSON() ([]byte, error) { return []byte{}, nil }
      disable-builtin: false

      # User-defined method exclusions.
      # The format is `struct_name.method_name` (ex: `Foo.MethodName`).
      # A wildcard `*` can use as a struct name (ex: `*.MethodName`).
      # Default: []
      # func (Human) Hello()                          {}
      # func (Human) Bye()                            {}
      # func (*Human) MarshalJSON() ([]byte, error)   { return []byte{}, nil }
      # func (*Human) UnmarshalJSON([]byte) error     { return nil }
      # func (*Human) UnmarshalYAML() ([]byte, error) { return []byte{}, nil }
      # func (*Human) UnmarshalText([]byte) error     { return nil }
      # func (*Human) Scan(any) error                 { return nil }
      exclusions:
        - "*.Scan"
        - "*.UnmarshalJSON"
        - "*.UnmarshalText"
        - "*.UnmarshalYAML"

    revive:
      # Maximum number of open files at the same time.
      # See https://github.com/mgechev/revive#command-line-flags
      # Defaults to unlimited.
      # Для golangci-lint бесполезно
      # max-open-files: 2048

      # Sets the default severity.
      # Позволяет настроить какие линтеры считаются достаточным основанием для ошибки
      # Выглядит как нестрогий запрет
      # А любой нестрогий запрет равносилен отсуствию это запрета
      #
      # Очень странно работает в сочетании с golangci-lint, на отдельные линтеры может не работать
      # Не получилось проверить с add-constant
      #
      # Отключаем
      # See https://github.com/mgechev/revive#configuration
      # Default: warning
      # severity: error

      # Enable all available rules.
      # Default: false
      # enable-all-rules: true
      # Enable validation of comment directives.
      # See https://github.com/mgechev/revive#comment-directives
      # directives:
      #   - name: specify-disable-reason
      #     severity: error
      # Sets the default failure confidence.
      # This means that linting errors with less than 0.8 confidence will be ignored.
      # Default: 0.8
      confidence: 0
      # Revive handles the default rules in a way that can be unexpected:
      # - If there are no explicit rules, the default rules are used.
      # - If there is at least one explicit rule, the default rules are not used.
      # Run `GL_DEBUG=revive golangci-lint run --enable-only=revive` to see default, all available rules, and enabled rules.
      rules:
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#add-constant
        # Проверяет "магические" значения строк и чисел которые необходимо заменить на константы
        - name: add-constant
          disabled: false
          exclude: [""]
          arguments:
            # max-lit-count - максимальное количество раз которое строка может встречаться в коде,
            # после превышения которого линтер сообщит и необходимости создания константы под эту строку
            # 1 - означает что одинаковая статичная строка может использоваться только один раз
            # если она встречается 2 и более раз, линтер сообщит об этом
            - max-lit-count: "1"
              # whitelist для предыдущего линтера
              allow-strs: '""'

              # Разрешенные значения для чисел
              allow-ints: "0,1"
              allow-floats: "0.0,1.0"
              # список функций разделенных запятой, для которых следует игнорировать правила линтера
              ignore-funcs: "foo,baz"

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#argument-limit
        # Устанавливает максимально допустимое количество аргументов в функции
        # Интересно то что на неименованые аргументы не работает
        # func bar(_ int, _ string, _ rune, _ byte, _ uint8) {} // линтер укажет на проблему
        # func bar(int, string, rune, byte, uint8) {} // линтер промолчит
        - name: argument-limit
          disabled: false
          exclude: [""]
          arguments: [4]

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#atomic
        # Проверяет типичные ошибки при работе с atomic
        # var counter int32
        # counter = atomic.AddInt32(&counter, 1) // присваиваем новое значение той же переменной
        #
        # govet.atomic выполняет ту же самую функцию
        # Выключаем
        - name: atomic
          disabled: true
          exclude: [""]

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#banned-characters
        # Позволяет указать набор символов запрещенный в названиях переменных, функций, деклараций типов
        # revive.asciicheck запрещает любые non-ascii символы в коде, этого более чем достаточно
        # revive.asciicheck выполняет ту же самую фукнцию
        # Выключаем
        - name: banned-characters
          disabled: true
          exclude: [""]
          arguments: [] # Запрещенные символы

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#bare-return
        # Запрещает использование "пустых" return в случае именованных возвращаемых переменных
        #
        # func bare() (age int, err error) {
        # 	return // return здесь "молчаливо" возвращает значения age и err
        # }
        #
        # Добавляет ясности и читаемости к коду
        - name: bare-return
          disabled: false
          exclude: [""]

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#blank-imports
        # Регулирует использование blank импортов (import _ "embed")
        # Пустой импорт может находится в main пакетах
        # Пустой импорт может находится в test пакетах (файлы _test.go или _test пакет)
        # Иначе необходимо написать комментарий почему данный импорт необходим в коде
        - name: blank-imports
          disabled: false
          exclude: [""]

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#bool-literal-in-expr
        # Обнаруживает участки кода где условие сравнивается с true или false
        # До
        # if condition == true {
        # 	log.Println("Hello World!")
        # }
        #
        # После
        # if condition {
        #   log.Println("Hello World!")
        # }
        - name: bool-literal-in-expr
          disabled: false
          exclude: [""]

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#call-to-gc
        # Запрещает прямое обращение к сборщику мусора
        # runtime.GC() // ЗАПРЕЩЕНО
        - name: call-to-gc
          disabled: false
          exclude: [""]

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#cognitive-complexity
        - name: cognitive-complexity
          disabled: false
          exclude: [""]
          arguments: [7]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#comment-spacings
        - name: comment-spacings
          disabled: false
          exclude: [""]
          arguments:
            - mypragma
            - otherpragma
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#comments-density
        # Связан с коментами TODO разобрать позже
        # Выключаем
        - name: comments-density
          disabled: true
          exclude: [""]
          arguments: [15]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#confusing-naming
        - name: confusing-naming
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#confusing-results
        - name: confusing-results
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#constant-logical-expr
        - name: constant-logical-expr
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#context-as-argument
        - name: context-as-argument
          disabled: false
          exclude: [""]
          arguments:
            - allow-types-before: "*testing.T,*github.com/user/repo/testing.Harness"
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#context-keys-type
        - name: context-keys-type
          disabled: false
          exclude: [""]

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#cyclomatic
        - name: cyclomatic
          disabled: false
          exclude: [""]
          arguments: [5]

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#datarace
        - name: datarace
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#deep-exit
        - name: deep-exit
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#defer
        - name: defer
          disabled: false
          exclude: [""]
          arguments:
            [
              [
                "call-chain",
                "loop",
                "method-call",
                "recover",
                "immediate-recover",
                "return",
              ],
            ]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#dot-imports
        - name: dot-imports
          disabled: false
          exclude: [""]
          arguments:
            - allowed-packages:
                ["github.com/onsi/ginkgo/v2", "github.com/onsi/gomega"]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#duplicated-imports
        - name: duplicated-imports
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#early-return
        - name: early-return
          disabled: false
          exclude: [""]
          arguments:
            - "preserve-scope"
            - "allow-jump"
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#empty-block
        - name: empty-block
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#empty-lines
        - name: empty-lines
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#enforce-map-style
        - name: enforce-map-style
          disabled: false
          exclude: [""]
          arguments:
            - "make"
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#enforce-repeated-arg-type-style
        - name: enforce-repeated-arg-type-style
          disabled: false
          exclude: [""]
          arguments:
            - "short"
            # Or this parameter:
            - func-arg-style: "full"
              func-ret-val-style: "short"

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#enforce-slice-style
        # Регламентирует стиль создания списков
        # make([]type, 0, capacity) - разрешен для любых случаев
        # []type(nil) - разрешен для любых случаев
        # Возможные опции
        # any - slice можно инициализировать как угодно (по сути выключает линтер)
        # literal - slice можно создать только через []type{}
        # make - slice можно создать только с помощью make([]type, 0)
        # nil - slice можно инициализовать тольк с nil значением
        - name: enforce-slice-style
          disabled: false
          exclude: [""]
          arguments: ["any"]

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#error-naming
        - name: error-naming
          disabled: false
          exclude: [""]

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#error-return
        - name: error-return
          disabled: false
          exclude: [""]

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#error-strings
        - name: error-strings
          disabled: false
          exclude: [""]
          arguments:
            - "xerrors.New"
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#errorf
        - name: errorf
          disabled: false
          exclude: [""]

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#exported
        # заставляет тебя комментить всё что экспортируется
        # Выключаем
        - name: exported
          disabled: true
          exclude: [""]
          arguments:
            - "check-private-receivers"
            - "disable-stuttering-check"
            - "say-repetitive-instead-of-stutters"
            - "check-public-interface"
            - "disable-checks-on-constants"
            - "disable-checks-on-functions"
            - "disable-checks-on-methods"
            - "disable-checks-on-types"
            - "disable-checks-on-variables"

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#file-header
        # связан с коментами TODO разобрать позже
        # Выключаем
        - name: file-header
          disabled: true
          exclude: [""]
          arguments:
            - This is the text that must appear at the top of source files.

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#file-length-limit
        - name: file-length-limit
          disabled: false
          exclude: [""]
          arguments:
            - max: 500
              skip-comments: true
              skip-blank-lines: true

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#filename-format
        # Даёт возможность настроить формат для .go файлов
        # Не несет какой-то критичной полезность
        # Выключаем
        - name: filename-format
          disabled: true
          exclude: [""]
          arguments:
            - "^[_a-z][_a-z0-9]*\\.go$"

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#flag-parameter
        - name: flag-parameter
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#function-length
        - name: function-length
          disabled: false
          exclude: [""]
          arguments: [40, 0]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#function-result-limit
        - name: function-result-limit
          disabled: false
          exclude: [""]
          arguments: [3]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#get-return
        - name: get-return
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#identical-branches
        - name: identical-branches
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#identical-ifelseif-branches
        - name: identical-ifelseif-branches
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#identical-ifelseif-conditions
        - name: identical-ifelseif-conditions
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#identical-switch-branches
        - name: identical-switch-branches
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#identical-switch-conditions
        - name: identical-switch-conditions
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#if-return
        - name: if-return
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#import-alias-naming
        - name: import-alias-naming
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#imports-blocklist
        - name: imports-blocklist
          disabled: false
          exclude: [""]
          arguments:
            - "crypto/md5"
            - "crypto/sha1"
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#increment-decrement
        - name: increment-decrement
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#indent-error-flow
        - name: indent-error-flow
          disabled: true
          exclude: [""]
          arguments: [80]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#max-control-nesting
        - name: max-control-nesting
          disabled: false
          exclude: [""]
          arguments: [3]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#max-public-structs
        - name: max-public-structs
          disabled: false
          exclude: [""]
          arguments: [3]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#modifies-parameter
        - name: modifies-parameter
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#modifies-value-receiver
        - name: modifies-value-receiver
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#nested-structs
        - name: nested-structs
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#optimize-operands-order
        - name: optimize-operands-order
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#package-comments
        # Связан с коментами TODO разобрать позже
        # Выключаем
        - name: package-comments
          disabled: true
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#package-directory-mismatch
        # Имя пакета должно совпадать с названием его директории
        # Мне не нравится
        # Иногда я хочу чтобы моя директория не содержала лишних слов
        # однако при импорте я не хочу передирать миллион вариантов с таким же названием
        # поэтому диреторию я назову service а название пакета servicecounter
        # Выключаем
        - name: package-directory-mismatch
          disabled: true
          exclude: [""]
          arguments:
            - ignore-directories: ["testcases", "testinfo"]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#range
        - name: range
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#range-val-address
        - name: range-val-address
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#range-val-in-closure
        - name: range-val-in-closure
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#receiver-naming
        - name: receiver-naming
          disabled: false
          exclude: [""]
          arguments:
            - max-length: 2
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#redefines-builtin-id
        # Обнаруживает имена переменных, функций перекрывающих ключевые имена стандартной библиотеки
        # predeclared выполняет ту же самую фукнцию
        # но настраивается и имеет возможность проверять поля
        # Выключаем
        - name: redefines-builtin-id
          disabled: true
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#redundant-build-tag
        - name: redundant-build-tag
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#redundant-import-alias
        - name: redundant-import-alias
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#redundant-test-main-exit
        - name: redundant-test-main-exit
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#string-format
        - name: string-format
          disabled: false
          exclude: [""]
          arguments:
            - - "core.WriteError[1].Message"
              - "/^([^A-Z]|$)/"
              - must not start with a capital letter
            - - "fmt.Errorf[0]"
              - '/(^|[^\.!?])$/'
              - must not end in punctuation
            - - panic
              - '/^[^\n]*$/'
              - must not contain line breaks
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#string-of-int
        - name: string-of-int
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#struct-tag
        - name: struct-tag
          disabled: false
          exclude: [""]
          arguments:
            - "json,inline"
            - "bson,outline,gnu"
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#superfluous-else
        - name: superfluous-else
          disabled: false
          exclude: [""]
          arguments:
            - "preserve-scope"
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#time-date
        - name: time-date
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#time-equal
        - name: time-equal
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#time-naming
        - name: time-naming
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#unchecked-type-assertion
        - name: unchecked-type-assertion
          disabled: false
          exclude: [""]
          arguments:
            - accept-ignored-assertion-result: true
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#unconditional-recursion
        - name: unconditional-recursion
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#unexported-naming
        - name: unexported-naming
          disabled: false
          exclude: [""]

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#unexported-return
        - name: unexported-return
          disabled: false
          exclude: [""]

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#unhandled-error
        # Проверяет обработку ошибок
        # errcheck выполняет ту же самую функцию
        # errcheck позволяет нам игнорировать ошибку в ряде случаев когда её невозможно получить
        # например Write в bytes.Buffer или strings.Builder
        # И много прочих случаев
        # Выключаем
        - name: unhandled-error
          disabled: true
          exclude: [""]
          arguments:
            - "^fmt.Printf"
            - "myFunction"

        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#unnecessary-format
        - name: unnecessary-format
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#unnecessary-stmt
        - name: unnecessary-stmt
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#unreachable-code
        - name: unreachable-code
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#unsecure-url-scheme
        - name: unsecure-url-scheme
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#unused-parameter
        - name: unused-parameter
          disabled: false
          exclude: [""]
          arguments:
            - allow-regex: "^_"
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#unused-receiver
        - name: unused-receiver
          disabled: false
          exclude: [""]
          arguments:
            - allow-regex: "^_"
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#use-any
        # modernize.any выполняет ту же самую фукнцию
        # Выключаем
        - name: use-any
          disabled: true
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#use-errors-new
        - name: use-errors-new
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#use-fmt-print
        - name: use-fmt-print
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#use-waitgroup-go
        # modernize.waitgroup выполняет ту же самую функцию
        # Выключаем
        - name: use-waitgroup-go
          disabled: true
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#useless-break
        - name: useless-break
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#useless-fallthrough
        - name: useless-fallthrough
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#var-declaration
        - name: var-declaration
          disabled: false
          exclude: [""]
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#var-naming
        - name: var-naming
          disabled: false
          exclude: [""]
          arguments:
            - ["ID"] # AllowList
            - ["VM"] # DenyList
            - - skip-initialism-name-checks: true
                upper-case-const: true
                skip-package-name-checks: true
                extra-bad-package-names:
                  - helpers
                  - models
        # https://github.com/mgechev/revive/blob/HEAD/RULES_DESCRIPTIONS.md#waitgroup-by-value
        - name: waitgroup-by-value
          disabled: false
          exclude: [""]
    spancheck:
      checks:
        # Проверяет вызов .End()
        - end
        # Проверяет запись ошибки в спан если ошибка всё таки возвращается
        - record-error
        # Проверяет постановку статуса в span
        - set-status

    rowserrcheck:
      # Дополнительно проверяем и sqlx
      packages:
        - github.com/jmoiron/sqlx

    varnamelen:
      # Описывает названия переменных с их типами которые мы предпочли бы игнорировать
      ignore-decls:
        - wg sync.WaitGroup
        - wg *sync.WaitGroup
        - r *http.Request
        - w http.ResponseWriter
        - w io.Writer
        - r io.Reader

      ignore-names:
        - err
        - ok
        - db

      # Проверять ли поля структур
      check-type-param: true

      # func (s Service) foo() // s слишком малое название
      # Выключаем
      check-receiver: false

      # Проверка именованых return значений
      check-return: true

    staticcheck:
      # Расширяем дефолтный список аббревиатур
      initialisms:
        [
          "ACL",
          "API",
          "ASCII",
          "ASM",
          "ASN",
          "CPU",
          "CSS",
          "DNS",
          "EOF",
          "GUID",
          "HTML",
          "HTTP",
          "HTTPS",
          "ID",
          "IP",
          "JSON",
          "QPS",
          "RAM",
          "RPC",
          "SLA",
          "SIM",
          "SMTP",
          "SQL",
          "SSH",
          "TCP",
          "TLS",
          "TTL",
          "UDP",
          "UI",
          "GID",
          "UID",
          "UUID",
          "URI",
          "URL",
          "UTF8",
          "VM",
          "XML",
          "XMPP",
          "XSRF",
          "XSS",
          "SIP",
          "RTP",
          "AMQP",
          "DB",
          "TS",
          "YAML",
        ]
      checks:
        # Invalid regular expression.
        # https://staticcheck.dev/docs/checks/#SA1000
        - SA1000

        # Invalid template.
        # https://staticcheck.dev/docs/checks/#SA1001
        - SA1001

        # Invalid format in 'time.Parse'.
        # https://staticcheck.dev/docs/checks/#SA1002
        - SA1002

        # Unsupported argument to functions in 'encoding/binary'.
        # https://staticcheck.dev/docs/checks/#SA1003
        - SA1003

        # Suspiciously small untyped constant in 'time.Sleep'.
        # https://staticcheck.dev/docs/checks/#SA1004
        - SA1004

        # Invalid first argument to 'exec.Command'.
        # https://staticcheck.dev/docs/checks/#SA1005
        - SA1005

        # 'Printf' with dynamic first argument and no further arguments.
        # https://staticcheck.dev/docs/checks/#SA1006
        - SA1006

        # Invalid URL in 'net/url.Parse'.
        # https://staticcheck.dev/docs/checks/#SA1007
        - SA1007

        # Non-canonical key in 'http.Header' map.
        # https://staticcheck.dev/docs/checks/#SA1008
        - SA1008

        # '(*regexp.Regexp).FindAll' called with 'n == 0', which will always return zero results.
        # https://staticcheck.dev/docs/checks/#SA1010
        - SA1010

        # Various methods in the "strings" package expect valid UTF-8, but invalid input is provided.
        # https://staticcheck.dev/docs/checks/#SA1011
        - SA1011

        # A nil 'context.Context' is being passed to a function, consider using 'context.TODO' instead.
        # https://staticcheck.dev/docs/checks/#SA1012
        - SA1012

        # 'io.Seeker.Seek' is being called with the whence constant as the first argument, but it should be the second.
        # https://staticcheck.dev/docs/checks/#SA1013
        - SA1013

        # Non-pointer value passed to 'Unmarshal' or 'Decode'.
        # https://staticcheck.dev/docs/checks/#SA1014
        # - SA1014

        # Using 'time.Tick' in a way that will leak. Consider using 'time.NewTicker', and only use 'time.Tick' in tests, commands and endless functions.
        # https://staticcheck.dev/docs/checks/#SA1015
        - SA1015

        # Trapping a signal that cannot be trapped.
        # https://staticcheck.dev/docs/checks/#SA1016
        - SA1016

        # Channels used with 'os/signal.Notify' should be buffered.
        # https://staticcheck.dev/docs/checks/#SA1017
        - SA1017

        # 'strings.Replace' called with 'n == 0', which does nothing.
        # https://staticcheck.dev/docs/checks/#SA1018
        - SA1018

        # Using a deprecated function, variable, constant or field.
        # https://staticcheck.dev/docs/checks/#SA1019
        - SA1019

        # Using an invalid host:port pair with a 'net.Listen'-related function.
        # https://staticcheck.dev/docs/checks/#SA1020
        - SA1020

        # Using 'bytes.Equal' to compare two 'net.IP'.
        # https://staticcheck.dev/docs/checks/#SA1021
        - SA1021

        # Modifying the buffer in an 'io.Writer' implementation.
        # https://staticcheck.dev/docs/checks/#SA1023
        - SA1023

        # A string cutset contains duplicate characters.
        # https://staticcheck.dev/docs/checks/#SA1024
        - SA1024

        # It is not possible to use '(*time.Timer).Reset''s return value correctly.
        # https://staticcheck.dev/docs/checks/#SA1025
        - SA1025

        # Cannot marshal channels or functions.
        # https://staticcheck.dev/docs/checks/#SA1026
        - SA1026

        # Atomic access to 64-bit variable must be 64-bit aligned.
        # https://staticcheck.dev/docs/checks/#SA1027
        - SA1027

        # 'sort.Slice' can only be used on slices.
        # https://staticcheck.dev/docs/checks/#SA1028
        # - SA1028

        # Inappropriate key in call to 'context.WithValue'.
        # https://staticcheck.dev/docs/checks/#SA1029
        - SA1029

        # Invalid argument in call to a 'strconv' function.
        # https://staticcheck.dev/docs/checks/#SA1030
        - SA1030

        # Overlapping byte slices passed to an encoder.
        # https://staticcheck.dev/docs/checks/#SA1031
        - SA1031

        # Wrong order of arguments to 'errors.Is'.
        # https://staticcheck.dev/docs/checks/#SA1032
        - SA1032

        # 'sync.WaitGroup.Add' called inside the goroutine, leading to a race condition.
        # https://staticcheck.dev/docs/checks/#SA2000
        # - SA2000

        # Empty critical section, did you mean to defer the unlock?.
        # https://staticcheck.dev/docs/checks/#SA2001
        - SA2001

        # Called 'testing.T.FailNow' or 'SkipNow' in a goroutine, which isn't allowed.
        # https://staticcheck.dev/docs/checks/#SA2002
        - SA2002

        # Deferred 'Lock' right after locking, likely meant to defer 'Unlock' instead.
        # https://staticcheck.dev/docs/checks/#SA2003
        - SA2003

        # 'TestMain' doesn't call 'os.Exit', hiding test failures.
        # https://staticcheck.dev/docs/checks/#SA3000
        - SA3000

        # Assigning to 'b.N' in benchmarks distorts the results.
        # https://staticcheck.dev/docs/checks/#SA3001
        - SA3001

        # Binary operator has identical expressions on both sides.
        # https://staticcheck.dev/docs/checks/#SA4000
        # - SA4000

        # '&*x' gets simplified to 'x', it does not copy 'x'.
        # https://staticcheck.dev/docs/checks/#SA4001
        - SA4001

        # Comparing unsigned values against negative values is pointless.
        # https://staticcheck.dev/docs/checks/#SA4003
        - SA4003

        # The loop exits unconditionally after one iteration.
        # https://staticcheck.dev/docs/checks/#SA4004
        - SA4004

        # Field assignment that will never be observed. Did you mean to use a pointer receiver?.
        # https://staticcheck.dev/docs/checks/#SA4005
        - SA4005

        # A value assigned to a variable is never read before being overwritten. Forgotten error check or dead code?.
        # https://staticcheck.dev/docs/checks/#SA4006
        - SA4006

        # The variable in the loop condition never changes, are you incrementing the wrong variable?.
        # https://staticcheck.dev/docs/checks/#SA4008
        - SA4008

        # A function argument is overwritten before its first use.
        # https://staticcheck.dev/docs/checks/#SA4009
        - SA4009

        # The result of 'append' will never be observed anywhere.
        # https://staticcheck.dev/docs/checks/#SA4010
        - SA4010

        # Break statement with no effect. Did you mean to break out of an outer loop?.
        # https://staticcheck.dev/docs/checks/#SA4011
        - SA4011

        # Comparing a value against NaN even though no value is equal to NaN.
        # https://staticcheck.dev/docs/checks/#SA4012
        - SA4012

        # Negating a boolean twice ('!!b') is the same as writing 'b'. This is either redundant, or a typo.
        # https://staticcheck.dev/docs/checks/#SA4013
        - SA4013

        # An if/else if chain has repeated conditions and no side-effects; if the condition didn't match the first time, it won't match the second time, either.
        # https://staticcheck.dev/docs/checks/#SA4014
        - SA4014

        # Calling functions like 'math.Ceil' on floats converted from integers doesn't do anything useful.
        # https://staticcheck.dev/docs/checks/#SA4015
        - SA4015

        # Certain bitwise operations, such as 'x ^ 0', do not do anything useful.
        # https://staticcheck.dev/docs/checks/#SA4016
        - SA4016

        # Discarding the return values of a function without side effects, making the call pointless.
        # https://staticcheck.dev/docs/checks/#SA4017
        - SA4017

        # Self-assignment of variables.
        # https://staticcheck.dev/docs/checks/#SA4018
        - SA4018

        # Multiple, identical build constraints in the same file.
        # https://staticcheck.dev/docs/checks/#SA4019
        - SA4019

        # Unreachable case clause in a type switch.
        # https://staticcheck.dev/docs/checks/#SA4020
        - SA4020

        # "x = append(y)" is equivalent to "x = y".
        # https://staticcheck.dev/docs/checks/#SA4021
        - SA4021

        # Comparing the address of a variable against nil.
        # https://staticcheck.dev/docs/checks/#SA4022
        - SA4022

        # Impossible comparison of interface value with untyped nil.
        # https://staticcheck.dev/docs/checks/#SA4023
        - SA4023

        # Checking for impossible return value from a builtin function.
        # https://staticcheck.dev/docs/checks/#SA4024
        - SA4024

        # Integer division of literals that results in zero.
        # https://staticcheck.dev/docs/checks/#SA4025
        - SA4025

        # Go constants cannot express negative zero.
        # https://staticcheck.dev/docs/checks/#SA4026
        - SA4026

        # '(*net/url.URL).Query' returns a copy, modifying it doesn't change the URL.
        # https://staticcheck.dev/docs/checks/#SA4027
        - SA4027

        # 'x % 1' is always zero.
        # https://staticcheck.dev/docs/checks/#SA4028
        - SA4028

        # Ineffective attempt at sorting slice.
        # https://staticcheck.dev/docs/checks/#SA4029
        - SA4029

        # Ineffective attempt at generating random number.
        # https://staticcheck.dev/docs/checks/#SA4030
        - SA4030

        # Checking never-nil value against nil.
        # https://staticcheck.dev/docs/checks/#SA4031
        - SA4031

        # Comparing 'runtime.GOOS' or 'runtime.GOARCH' against impossible value.
        # https://staticcheck.dev/docs/checks/#SA4032
        - SA4032

        # Assignment to nil map.
        # https://staticcheck.dev/docs/checks/#SA5000
        # пока не добрался
        # заметка на будущее
        # govet.nilness выполняет ту же самую функцию, только его функционал гораздо шире
        # Выключаем
        # - SA5000

        # Deferring 'Close' before checking for a possible error.
        # https://staticcheck.dev/docs/checks/#SA5001
        - SA5001

        # The empty for loop ("for {}") spins and can block the scheduler.
        # https://staticcheck.dev/docs/checks/#SA5002
        - SA5002

        # Defers in infinite loops will never execute.
        # https://staticcheck.dev/docs/checks/#SA5003
        - SA5003

        # "for { select { ..." with an empty default branch spins.
        # https://staticcheck.dev/docs/checks/#SA5004
        - SA5004

        # The finalizer references the finalized object, preventing garbage collection.
        # https://staticcheck.dev/docs/checks/#SA5005
        - SA5005

        # Infinite recursive call.
        # https://staticcheck.dev/docs/checks/#SA5007
        - SA5007

        # Invalid struct tag.
        # https://staticcheck.dev/docs/checks/#SA5008
        - SA5008

        # Invalid Printf call.
        # https://staticcheck.dev/docs/checks/#SA5009
        - SA5009

        # Impossible type assertion.
        # https://staticcheck.dev/docs/checks/#SA5010
        - SA5010

        # Possible nil pointer dereference.
        # https://staticcheck.dev/docs/checks/#SA5011
        - SA5011

        # Passing odd-sized slice to function expecting even size.
        # https://staticcheck.dev/docs/checks/#SA5012
        - SA5012

        # Using 'regexp.Match' or related in a loop, should use 'regexp.Compile'.
        # https://staticcheck.dev/docs/checks/#SA6000
        - SA6000

        # Missing an optimization opportunity when indexing maps by byte slices.
        # https://staticcheck.dev/docs/checks/#SA6001
        - SA6001

        # Storing non-pointer values in 'sync.Pool' allocates memory.
        # https://staticcheck.dev/docs/checks/#SA6002
        - SA6002

        # Converting a string to a slice of runes before ranging over it.
        # https://staticcheck.dev/docs/checks/#SA6003
        - SA6003

        # Inefficient string comparison with 'strings.ToLower' or 'strings.ToUpper'.
        # https://staticcheck.dev/docs/checks/#SA6005
        - SA6005

        # Using io.WriteString to write '[]byte'.
        # https://staticcheck.dev/docs/checks/#SA6006
        - SA6006

        # Defers in range loops may not run when you expect them to.
        # https://staticcheck.dev/docs/checks/#SA9001
        - SA9001

        # Using a non-octal 'os.FileMode' that looks like it was meant to be in octal.
        # https://staticcheck.dev/docs/checks/#SA9002
        - SA9002

        # Empty body in an if or else branch.
        # https://staticcheck.dev/docs/checks/#SA9003
        - SA9003

        # Only the first constant has an explicit type.
        # https://staticcheck.dev/docs/checks/#SA9004
        - SA9004

        # Trying to marshal a struct with no public fields nor custom marshaling.
        # https://staticcheck.dev/docs/checks/#SA9005
        - SA9005

        # Dubious bit shifting of a fixed size integer value.
        # https://staticcheck.dev/docs/checks/#SA9006
        - SA9006
        # Deleting a directory that shouldn't be deleted.
        # https://staticcheck.dev/docs/checks/#SA9007
        - SA9007
        # 'else' branch of a type assertion is probably not reading the right value.
        # https://staticcheck.dev/docs/checks/#SA9008
        - SA9008
        # Ineffectual Go compiler directive.
        # https://staticcheck.dev/docs/checks/#SA9009
        - SA9009

        # https://staticcheck.dev/docs/checks/#ST1000
        # Заставляет писать коменты над пакетом
        # Выключаем
        # - ST1000

        # Dot imports are discouraged.
        # https://staticcheck.dev/docs/checks/#ST1001
        - ST1001
        # Poorly chosen identifier.
        # https://staticcheck.dev/docs/checks/#ST1003
        - ST1003
        # Incorrectly formatted error string.
        # https://staticcheck.dev/docs/checks/#ST1005
        - ST1005
        # Poorly chosen receiver name.
        # https://staticcheck.dev/docs/checks/#ST1006
        - ST1006
        # A function's error value should be its last return value.
        # https://staticcheck.dev/docs/checks/#ST1008
        - ST1008
        # Poorly chosen name for variable of type 'time.Duration'.
        # https://staticcheck.dev/docs/checks/#ST1011
        - ST1011
        # Poorly chosen name for error variable.
        # https://staticcheck.dev/docs/checks/#ST1012
        - ST1012
        # Should use constants for HTTP error codes, not magic numbers.
        # https://staticcheck.dev/docs/checks/#ST1013
        - ST1013
        # A switch's default case should be the first or last case.
        # https://staticcheck.dev/docs/checks/#ST1015
        - ST1015
        # Use consistent method receiver names.
        # https://staticcheck.dev/docs/checks/#ST1016
        - ST1016
        # Don't use Yoda conditions.
        # https://staticcheck.dev/docs/checks/#ST1017
        - ST1017
        # Avoid zero-width and control characters in string literals.
        # https://staticcheck.dev/docs/checks/#ST1018
        - ST1018

        # Importing the same package multiple times.
        # https://staticcheck.dev/docs/checks/#ST1019
        # - ST1019

        # The documentation of an exported function should start with the function's name.
        # https://staticcheck.dev/docs/checks/#ST1020
        - ST1020
        # The documentation of an exported type should start with type's name.
        # https://staticcheck.dev/docs/checks/#ST1021
        - ST1021
        # The documentation of an exported variable or constant should start with variable's name.
        # https://staticcheck.dev/docs/checks/#ST1022
        - ST1022
        # Redundant type in variable declaration.
        # https://staticcheck.dev/docs/checks/#ST1023
        - ST1023
        # Use plain channel send or receive instead of single-case select.
        # https://staticcheck.dev/docs/checks/#S1000
        - S1000
        # Replace for loop with call to copy.
        # https://staticcheck.dev/docs/checks/#S1001
        - S1001
        # Omit comparison with boolean constant.
        # https://staticcheck.dev/docs/checks/#S1002
        - S1002
        # Replace call to 'strings.Index' with 'strings.Contains'.
        # https://staticcheck.dev/docs/checks/#S1003
        - S1003
        # Replace call to 'bytes.Compare' with 'bytes.Equal'.
        # https://staticcheck.dev/docs/checks/#S1004
        - S1004
        # Drop unnecessary use of the blank identifier.
        # https://staticcheck.dev/docs/checks/#S1005
        - S1005
        # Use "for { ... }" for infinite loops.
        # https://staticcheck.dev/docs/checks/#S1006
        - S1006
        # Simplify regular expression by using raw string literal.
        # https://staticcheck.dev/docs/checks/#S1007
        - S1007
        # Simplify returning boolean expression.
        # https://staticcheck.dev/docs/checks/#S1008
        - S1008
        # Omit redundant nil check on slices, maps, and channels.
        # https://staticcheck.dev/docs/checks/#S1009
        - S1009
        # Omit default slice index.
        # https://staticcheck.dev/docs/checks/#S1010
        - S1010
        # Use a single 'append' to concatenate two slices.
        # https://staticcheck.dev/docs/checks/#S1011
        - S1011
        # Replace 'time.Now().Sub(x)' with 'time.Since(x)'.
        # https://staticcheck.dev/docs/checks/#S1012
        - S1012
        # Use a type conversion instead of manually copying struct fields.
        # https://staticcheck.dev/docs/checks/#S1016
        - S1016
        # Replace manual trimming with 'strings.TrimPrefix'.
        # https://staticcheck.dev/docs/checks/#S1017
        - S1017
        # Use "copy" for sliding elements.
        # https://staticcheck.dev/docs/checks/#S1018
        - S1018
        # Simplify "make" call by omitting redundant arguments.
        # https://staticcheck.dev/docs/checks/#S1019
        - S1019
        # Omit redundant nil check in type assertion.
        # https://staticcheck.dev/docs/checks/#S1020
        - S1020
        # Merge variable declaration and assignment.
        # https://staticcheck.dev/docs/checks/#S1021
        - S1021
        # Omit redundant control flow.
        # https://staticcheck.dev/docs/checks/#S1023
        - S1023
        # Replace 'x.Sub(time.Now())' with 'time.Until(x)'.
        # https://staticcheck.dev/docs/checks/#S1024
        - S1024
        # Don't use 'fmt.Sprintf("%s", x)' unnecessarily.
        # https://staticcheck.dev/docs/checks/#S1025
        - S1025
        # Simplify error construction with 'fmt.Errorf'.
        # https://staticcheck.dev/docs/checks/#S1028
        - S1028
        # Range over the string directly.
        # https://staticcheck.dev/docs/checks/#S1029
        - S1029
        # Use 'bytes.Buffer.String' or 'bytes.Buffer.Bytes'.
        # https://staticcheck.dev/docs/checks/#S1030
        - S1030
        # Omit redundant nil check around loop.
        # https://staticcheck.dev/docs/checks/#S1031
        - S1031
        # Use 'sort.Ints(x)', 'sort.Float64s(x)', and 'sort.Strings(x)'.
        # https://staticcheck.dev/docs/checks/#S1032
        - S1032
        # Unnecessary guard around call to "delete".
        # https://staticcheck.dev/docs/checks/#S1033
        - S1033

        # Use result of type assertion to simplify cases.
        # https://staticcheck.dev/docs/checks/#S1034
        # - S1034

        # Redundant call to 'net/http.CanonicalHeaderKey' in method call on 'net/http.Header'.
        # https://staticcheck.dev/docs/checks/#S1035
        - S1035
        # Unnecessary guard around map access.
        # https://staticcheck.dev/docs/checks/#S1036
        - S1036
        # Elaborate way of sleeping.
        # https://staticcheck.dev/docs/checks/#S1037
        - S1037
        # Unnecessarily complex way of printing formatted string.
        # https://staticcheck.dev/docs/checks/#S1038
        - S1038

        # Unnecessary use of 'fmt.Sprint'.
        # https://staticcheck.dev/docs/checks/#S1039
        # - S1039

        # Type assertion to current type.
        # https://staticcheck.dev/docs/checks/#S1040
        # - S1040

        # Apply De Morgan's law.
        # https://staticcheck.dev/docs/checks/#QF1001
        - QF1001

        # Convert untagged switch to tagged switch.
        # https://staticcheck.dev/docs/checks/#QF1002
        - QF1002
        # Convert if/else-if chain to tagged switch.
        # https://staticcheck.dev/docs/checks/#QF1003
        - QF1003
        # Use 'strings.ReplaceAll' instead of 'strings.Replace' with 'n == -1'.
        # https://staticcheck.dev/docs/checks/#QF1004
        - QF1004
        # Expand call to 'math.Pow'.
        # https://staticcheck.dev/docs/checks/#QF1005
        - QF1005
        # Lift 'if'+'break' into loop condition.
        # https://staticcheck.dev/docs/checks/#QF1006
        - QF1006
        # Merge conditional assignment into variable declaration.
        # https://staticcheck.dev/docs/checks/#QF1007
        - QF1007
        # Omit embedded fields from selector expression.
        # https://staticcheck.dev/docs/checks/#QF1008
        - QF1008
        # Use 'time.Time.Equal' instead of '==' operator.
        # https://staticcheck.dev/docs/checks/#QF1009
        - QF1009
        # Convert slice of bytes to string when printing it.
        # https://staticcheck.dev/docs/checks/#QF1010
        - QF1010
        # Omit redundant type from variable declaration.
        # https://staticcheck.dev/docs/checks/#QF1011
        - QF1011
        # Use 'fmt.Fprintf(x, ...)' instead of 'x.Write(fmt.Sprintf(...))'.
        # https://staticcheck.dev/docs/checks/#QF1012
        - QF1012

  exclusions:
    # Сообщает что исключение не используется
    # Может немного напрягать
    # Выключаю
    warn-unused: false

    rules:
      # Так как ruleguard это функции go которые представляют собой dsl
      # они более нигде не используются
      # соответственно они исключены из проверок
      - path: rules.go
        linters:
          - unused

      - path: _test\.go
        linters:
          # Для тестов вполне нормально если мы схлопотаем панику при a := x.(*Type)
          # По скольку зачастую в тестах если тип не то мы спаникуем
          # Затратив при этом лишние строчки на проверку if !ok и сам вызов паники или t.Fatal
          - forcetypeassert

      - linters:
          # Излишне валидировать тестовые функции для этих линтеров
          # Каждый из этих линтеров так или иначе привязан к размеру функций
          # Тестовые функции не всегда можно сделать меньше или проще
          # При этом для остальных функций которые мы используем в тестах
          # соблюдение правил длины и сложности и когнитивной сложности сохраняются
          - gocognit

        source: "^func Test"

formatters:
  enable:
    - gci
    - gofmt
    - gofumpt
    - golines

run:
  timeout: "1m"
  issues-exit-code: 1
  tests: true

issues:
  # Не ограничивает линтеры в количестве сообщений
  # Позволяет видеть все возможные issue сразу а не постепенно
  max-issues-per-linter: 0

  # Максимальное количество сообщений с одинаковым текстом
  # Позволяет видеть все возможные issue сразу а не постепенно
  max-same-issues: 0

  # Равнозначно --fix флагу
  # НИКОГДА НЕ ВКЛЮЧАЕМ, если нам надо поправить форматирование вызываем golangci-lint fmt
  # ЗНАЧЕНИЕ true ПРИЗНАНО АНТИПАТТЕРНОМ
  fix: false

  # Позволяет нескольким линтерам жаловаться на одну и ту же строчку
  # Позволяет видеть все возможные issue сразу а не постепенно
  uniq-by-line: false
#
#
#
#
#
#
#
# Аудит линтеров измеряющих сложность и вложенность функций
# Рассматриваются
# cyclop
# gocognit
# revive.cyclomatic
# revive.cognitive-complexity
#
# cyclop и cyclomatic считают вложенность функций
# gocognit так же уделяет особое внимание вложенности функции, начисляя штрафные баллы за глубокую вложенность
# revive.cognitive-complexity тоже считает вложенность и добавляет штрафные баллы
#
# Считать вложенность функций отдельно будет не совсем объективно
# Учитывая что в gocognit и revive.cognitive-complexity дают комплексную оценку функций
#
# На этом этапе выпадают cyclop и gocognit
#
#
#
#
#
#
